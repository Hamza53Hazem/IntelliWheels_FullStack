(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,79474,(e,t,s)=>{"use strict";var a=e.r(71645).__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;s.c=function(e){return a.H.useMemoCache(e)}},932,(e,t,s)=>{"use strict";t.exports=e.r(79474)},52683,e=>{"use strict";var t=e.i(43476),s=e.i(932);e.i(47167);var a=e.i(71645),l=e.i(18566),r=e.i(9165),i=e.i(32341),n=e.i(47133),o=e.i(41255);let d=function(){let e={};for(let t of o.MOCK_CARS){let s=t.make?.trim(),a=t.model?.trim();if(!s||!a)continue;let l=s.toLowerCase();e[l]||(e[l]={name:s,models:{}});let r=a.toLowerCase();e[l].models[r]||(e[l].models[r]={name:a,engines:new Set});let i=t.specs?.engine||t.specs?.Engine||null;i&&e[l].models[r].engines.add(String(i))}return e}(),c=[{key:"listings",labelKey:"navCatalog",descriptionKey:"navCatalogDesc"},{key:"favorites",labelKey:"navFavorites",descriptionKey:"navFavoritesDesc"},{key:"dealers",labelKey:"navDealers",descriptionKey:"navDealersDesc"},{key:"myListings",labelKey:"navMyListings",descriptionKey:"navMyListingsDesc"},{key:"addListing",labelKey:"navAddListing",descriptionKey:"navAddListingDesc"},{key:"profile",labelKey:"navProfile",descriptionKey:"navProfileDesc"},{key:"chatbot",labelKey:"navChatbot",descriptionKey:"navChatbotDesc"},{key:"analytics",labelKey:"navAnalytics",descriptionKey:"navAnalyticsDesc"}],m=[{key:"marketplace",labelKey:"serviceMarketplace",descriptionKey:"serviceMarketplaceDesc",defaultPage:"listings"},{key:"dealer",labelKey:"serviceDealer",descriptionKey:"serviceDealerDesc",defaultPage:"myListings"},{key:"insights",labelKey:"serviceInsights",descriptionKey:"serviceInsightsDesc",defaultPage:"chatbot"}],u={marketplace:["listings","favorites","dealers","myListings","addListing","profile"],dealer:["listings","dealers","myListings","addListing","profile","analytics"],insights:["chatbot","analytics","listings","favorites","profile"]},g=[{value:"light",labelKey:"themeLight"},{value:"dark",labelKey:"themeDark"},{value:"system",labelKey:"themeSystem"}],x={en:{tagline:"Intelligent automotive marketplace",statusLabel:"Status",statusGuest:"Guest",statusAuthenticated:"Authenticated",selectorsCurrency:"Currency",selectorsLanguage:"Language",serviceLabel:"Workspace",serviceSubtitle:"Choose a capability focus",serviceCurrent:"Currently exploring",serviceMarketplace:"Marketplace",serviceMarketplaceDesc:"Live inventory & customers",serviceDealer:"Dealer Hub",serviceDealerDesc:"Manage listings & leads",serviceInsights:"AI Insights",serviceInsightsDesc:"Chat, analytics, vision",serviceMenuCta:"Switch workspace",navMenuLabel:"Browse sections",themeLabel:"Theme",themeLight:"Light",themeDark:"Dark",themeSystem:"System",settingsButton:"Settings",settingsTitle:"Workspace settings",settingsSubtitle:"Personalize your experience",settingsProfileCta:"Manage profile",settingsProfileGuest:"Sign in / Sign up",navCatalog:"Catalog",navCatalogDesc:"Explore the latest inventory",navFavorites:"Favorites",navFavoritesDesc:"Your saved picks",navDealers:"Dealers",navDealersDesc:"Meet verified sellers",navMyListings:"My Listings",navMyListingsDesc:"Manage your cars",navAddListing:"Add Listing",navAddListingDesc:"Create a new listing",navProfile:"Profile & Auth",navProfileDesc:"Account settings",navChatbot:"AI Assistant",navChatbotDesc:"Chat & vision tools",navAnalytics:"Analytics",navAnalyticsDesc:"Market intelligence",searchPlaceholder:"Search make, model, year",semanticPlaceholder:"e.g. Luxury hybrid SUV under 150k",dropPrompt:"Drag & drop or paste an image",dropHint:"JPG, PNG up to 10MB",priceAssistLabel:"AI Price Assist",uploadPhotoLabel:"Upload Photo",visionHelperLabel:"Vision Helper",galleryLabel:"Gallery",galleryHint:"Attach up to 6 showcase shots",galleryEmpty:"No gallery images yet.",galleryUploadLabel:"Upload images",galleryAddButton:"Add",galleryRemove:"Remove",videoLabel:"Video link",makeSelectLabel:"Choose make",modelSelectLabel:"Choose model",engineSelectLabel:"Choose engine",odometerLabel:"Odometer (km)",descriptionHeading:"Description",dealersHeading:"Featured dealer network",dealersSubheading:"Shop curated showrooms powered by IntelliWheels partners.",dealersEmpty:"No dealer partners are live yet.",dealersVisit:"View showroom",dealerMetaListings:"Listings",dealerMetaAverage:"Avg price",dealerMetaTopMakes:"Top makes",dealerInventoryTitle:"Available cars",dealerContactCta:"Contact dealer",settingsLabel:"Settings",settingsTheme:"Theme",settingsLanguage:"Language",settingsCurrency:"Currency",footerContact:"Contact",footerSupport:"Support",footerSocial:"Social",footerRights:"All rights reserved.",footerEmail:"Email us",footerPhone:"Call support",footerInstagram:"Instagram"},ar:{tagline:"Ù…Ù†ØµØ© Ø³ÙŠØ§Ø±Ø§Øª Ø°ÙƒÙŠØ©",statusLabel:"Ø§Ù„Ø­Ø§Ù„Ø©",statusGuest:"Ø²Ø§Ø¦Ø±",statusAuthenticated:"Ù…Ø³Ø¬Ù„",selectorsCurrency:"Ø§Ù„Ø¹Ù…Ù„Ø©",selectorsLanguage:"Ø§Ù„Ù„ØºØ©",serviceLabel:"Ø¨ÙŠØ¦Ø© Ø§Ù„Ø¹Ù…Ù„",serviceSubtitle:"Ø§Ø®ØªØ± Ù†Ù…Ø· Ø§Ù„Ø®Ø¯Ù…Ø© Ø§Ù„Ø£Ù†Ø³Ø¨",serviceCurrent:"Ø£Ù†Øª Ø§Ù„Ø¢Ù† ÙÙŠ",serviceMarketplace:"Ø§Ù„Ø³ÙˆÙ‚",serviceMarketplaceDesc:"Ø§Ù„Ù…Ø®Ø²ÙˆÙ† Ø§Ù„Ù…Ø¨Ø§Ø´Ø± ÙˆØ§Ù„Ø¹Ù…Ù„Ø§Ø¡",serviceDealer:"Ù…Ø±ÙƒØ² Ø§Ù„ÙˆÙƒÙ„Ø§Ø¡",serviceDealerDesc:"Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ø±ÙˆØ¶ ÙˆØ§Ù„Ø¹Ù…Ù„Ø§Ø¡ Ø§Ù„Ù…Ø­ØªÙ…Ù„ÙŠÙ†",serviceInsights:"Ø±Ø¤Ù‰ Ø§Ù„Ø°ÙƒØ§Ø¡",serviceInsightsDesc:"Ø§Ù„Ø¯Ø±Ø¯Ø´Ø© ÙˆØ§Ù„ØªØ­Ù„ÙŠÙ„Ø§Øª ÙˆØ§Ù„Ø±Ø¤ÙŠØ©",serviceMenuCta:"ØªØºÙŠÙŠØ± Ù…Ø³Ø§Ø­Ø© Ø§Ù„Ø¹Ù…Ù„",navMenuLabel:"ØªØµÙØ­ Ø§Ù„Ø£Ù‚Ø³Ø§Ù…",themeLabel:"Ø§Ù„ÙˆØ¶Ø¹",themeLight:"ÙØ§ØªØ­",themeDark:"Ø¯Ø§ÙƒÙ†",themeSystem:"Ø­Ø³Ø¨ Ø§Ù„Ù†Ø¸Ø§Ù…",settingsButton:"Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª",settingsTitle:"Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ù…Ø³Ø§Ø­Ø© Ø§Ù„Ø¹Ù…Ù„",settingsSubtitle:"Ø®ØµØµ ØªØ¬Ø±Ø¨ØªÙƒ",settingsProfileCta:"Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø­Ø³Ø§Ø¨",settingsProfileGuest:"ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ / Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨",navCatalog:"Ø§Ù„ÙƒØªØ§Ù„ÙˆØ¬",navCatalogDesc:"Ø§ÙƒØªØ´Ù Ø£Ø­Ø¯Ø« Ø§Ù„Ø³ÙŠØ§Ø±Ø§Øª",navFavorites:"Ø§Ù„Ù…ÙØ¶Ù„Ø©",navFavoritesDesc:"Ø³ÙŠØ§Ø±Ø§ØªÙƒ Ø§Ù„Ù…Ø®ØªØ§Ø±Ø©",navDealers:"Ø§Ù„ÙˆÙƒÙ„Ø§Ø¡",navDealersDesc:"ØªØ¹Ø±Ù Ø¹Ù„Ù‰ Ø´Ø±ÙƒØ§Ø¦Ù†Ø§ Ø§Ù„Ù…Ø¹ØªÙ…Ø¯ÙŠÙ†",navMyListings:"Ø³ÙŠØ§Ø±Ø§ØªÙŠ",navMyListingsDesc:"Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø³ÙŠØ§Ø±Ø§Øª Ø§Ù„Ù…Ø¹Ø±ÙˆØ¶Ø©",navAddListing:"Ø¥Ø¶Ø§ÙØ© Ø³ÙŠØ§Ø±Ø©",navAddListingDesc:"Ø¥Ù†Ø´Ø§Ø¡ Ø¹Ø±Ø¶ Ø¬Ø¯ÙŠØ¯",navProfile:"Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ",navProfileDesc:"Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø­Ø³Ø§Ø¨",navChatbot:"Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯ Ø§Ù„Ø°ÙƒÙŠ",navChatbotDesc:"Ø¯Ø±Ø¯Ø´Ø© ÙˆØ±Ø¤ÙŠØ© Ø¨Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ",navAnalytics:"Ø§Ù„ØªØ­Ù„ÙŠÙ„Ø§Øª",navAnalyticsDesc:"Ø±Ø¤Ù‰ Ø§Ù„Ø³ÙˆÙ‚",searchPlaceholder:"Ø§Ø¨Ø­Ø« Ø¹Ù† Ø§Ù„Ù…ÙˆØ¯ÙŠÙ„ Ø£Ùˆ Ø§Ù„Ø³Ù†Ø©",semanticPlaceholder:"Ù…Ø«Ø§Ù„: Ø³ÙŠØ§Ø±Ø© Ù‡Ø¬ÙŠÙ†Ø© ÙØ§Ø®Ø±Ø© Ø£Ù‚Ù„ Ù…Ù† 150 Ø£Ù„Ù",dropPrompt:"Ø§Ø³Ø­Ø¨ ÙˆØ£ÙÙ„Øª Ø£Ùˆ Ø§Ù„ØµÙ‚ ØµÙˆØ±Ø© Ù‡Ù†Ø§",dropHint:"ØµÙˆØ± â€ŽJPG, PNGâ€Ž Ø­ØªÙ‰ 10 Ù…ÙŠØºØ§Ø¨Ø§ÙŠØª",priceAssistLabel:"Ù…Ø³Ø§Ø¹Ø¯ Ø§Ù„ØªØ³Ø¹ÙŠØ± Ø¨Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ",uploadPhotoLabel:"ØªØ­Ù…ÙŠÙ„ ØµÙˆØ±Ø©",visionHelperLabel:"Ù…Ø³Ø§Ø¹Ø¯ Ø§Ù„Ø±Ø¤ÙŠØ©",galleryLabel:"Ù…Ø¹Ø±Ø¶ Ø§Ù„ØµÙˆØ±",galleryHint:"Ø£Ø¶Ù Ø­ØªÙ‰ Ù¦ ØµÙˆØ± Ù…Ù…ÙŠØ²Ø©",galleryEmpty:"Ù„Ø§ ØªÙˆØ¬Ø¯ ØµÙˆØ± Ø¨Ø¹Ø¯.",galleryUploadLabel:"Ø±ÙØ¹ Ø§Ù„ØµÙˆØ±",galleryAddButton:"Ø¥Ø¶Ø§ÙØ©",galleryRemove:"Ø¥Ø²Ø§Ù„Ø©",videoLabel:"Ø±Ø§Ø¨Ø· Ø§Ù„ÙÙŠØ¯ÙŠÙˆ",makeSelectLabel:"Ø§Ø®ØªØ± Ø§Ù„Ø´Ø±ÙƒØ©",modelSelectLabel:"Ø§Ø®ØªØ± Ø§Ù„Ù…ÙˆØ¯ÙŠÙ„",engineSelectLabel:"Ø§Ø®ØªØ± Ø§Ù„Ù…Ø­Ø±Ùƒ",odometerLabel:"Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„Ø¹Ø¯Ø§Ø¯ (ÙƒÙ…)",descriptionHeading:"Ø§Ù„ÙˆØµÙ",dealersHeading:"Ø´Ø¨ÙƒØ© Ø§Ù„ÙˆÙƒÙ„Ø§Ø¡ Ø§Ù„Ù…Ù…ÙŠØ²ÙŠÙ†",dealersSubheading:"Ø§Ø³ØªÙƒØ´Ù ØµØ§Ù„Ø§Øª Ø§Ù„Ø¹Ø±Ø¶ Ø§Ù„Ù…Ø®ØªØ§Ø±Ø© Ù…Ù† Ø´Ø±ÙƒØ§Ø¡ IntelliWheels.",dealersEmpty:"Ù„Ø§ ÙŠÙˆØ¬Ø¯ ÙˆÙƒÙ„Ø§Ø¡ Ù†Ø´Ø·ÙˆÙ† Ø­Ø§Ù„ÙŠØ§Ù‹.",dealersVisit:"Ø¹Ø±Ø¶ Ø§Ù„ØµØ§Ù„Ø©",dealerMetaListings:"Ø§Ù„Ø¹Ø±ÙˆØ¶",dealerMetaAverage:"Ù…ØªÙˆØ³Ø· Ø§Ù„Ø³Ø¹Ø±",dealerMetaTopMakes:"Ø£Ø¨Ø±Ø² Ø§Ù„Ø¹Ù„Ø§Ù…Ø§Øª",dealerInventoryTitle:"Ø§Ù„Ø³ÙŠØ§Ø±Ø§Øª Ø§Ù„Ù…ØªØ§Ø­Ø©",dealerContactCta:"ØªÙˆØ§ØµÙ„ Ù…Ø¹ Ø§Ù„ÙˆÙƒÙŠÙ„",settingsLabel:"Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª",settingsTheme:"Ø§Ù„Ù…Ø¸Ù‡Ø±",settingsLanguage:"Ø§Ù„Ù„ØºØ©",settingsCurrency:"Ø§Ù„Ø¹Ù…Ù„Ø©",footerContact:"ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§",footerSupport:"Ø§Ù„Ø¯Ø¹Ù…",footerSocial:"ÙˆØ³Ø§Ø¦Ù„ Ø§Ù„ØªÙˆØ§ØµÙ„",footerRights:"Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø©.",footerEmail:"Ø±Ø§Ø³Ù„Ù†Ø§",footerPhone:"Ø§ØªØµÙ„ Ø¨Ø§Ù„Ø¯Ø¹Ù…",footerInstagram:"Ø¥Ù†Ø³ØªØºØ±Ø§Ù…"}},h=[{value:"en",label:"English"},{value:"ar",label:"Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©"}],p=["AED","USD","EUR","GBP","SAR","QAR","BHD","KWD","OMR","JOD"],b={JOD:1,AED:.19,USD:.71,EUR:.65,GBP:.56,SAR:.19,QAR:.19,BHD:.53,KWD:.43,OMR:2.15},y={make:"all",search:"",sort:"default"};function f(){let{user:e,token:s,loading:o,login:f,signup:w,logout:k,updateMyProfile:S,refreshProfile:C,error:L,clearError:A}=(0,i.useAuth)(),[D,M]=(0,a.useState)("listings"),[E,I]=(0,a.useState)("marketplace"),[P,_]=(0,a.useState)("light"),[$,T]=(0,a.useState)(y),[U,K]=(0,a.useState)([]),[R,O]=(0,a.useState)([]),[F,G]=(0,a.useState)([]),[H,B]=(0,a.useState)(!1),[V,W]=(0,a.useState)([]),[Y,q]=(0,a.useState)([]),[z,J]=(0,a.useState)(null),[Q,Z]=(0,a.useState)("all"),[X,ee]=(0,a.useState)(""),[et,es]=(0,a.useState)([]),[ea,el]=(0,a.useState)(!1),[er,ei]=(0,a.useState)(null),[en,eo]=(0,a.useState)(!1),[ed,ec]=(0,a.useState)(!1),[em,eu]=(0,a.useState)(!1),[eg,ex]=(0,a.useState)(!1),[eh,ep]=(0,a.useState)({make:"",model:"",year:"",price:"",currency:"AED",bodyStyle:"",horsepower:"",engine:"",fuelEconomy:"",odometer:"",image:"",galleryImages:[],videoUrl:"",description:""}),[eb,ey]=(0,a.useState)("JOD"),[ef,ev]=(0,a.useState)("en"),[ej,eN]=(0,a.useState)(!1),[ew,ek]=(0,a.useState)(null),[eS,eC]=(0,a.useState)(null),[eL,eA]=(0,a.useState)(!1),[eD,eM]=(0,a.useState)("general"),[eE,eI]=(0,a.useState)([]),[eP,e_]=(0,a.useState)(null),[e$,eT]=(0,a.useState)(""),[eU,eK]=(0,a.useState)(!1),[eR,eO]=(0,a.useState)(null),[eF,eG]=(0,a.useState)(1),[eH,eB]=(0,a.useState)(""),eV=(0,a.useRef)(null),eW=(0,a.useRef)(null),eY=(0,a.useRef)(null),eq="system"===P?"light":P,ez=m.find(e=>e.key===E)??m[0],eJ=(0,l.useRouter)(),eQ=x[ef],eZ=(0,a.useMemo)(()=>"http://localhost:5000/api".replace(/\/api$/,""),[]),eX=(0,a.useMemo)(()=>Object.values(d).map(e=>e.name).sort((e,t)=>e.localeCompare(t)),[]),e0=(0,a.useMemo)(()=>eh.make?function(e){if(!e)return[];let t=d[e.toLowerCase()];return t?Object.values(t.models).map(e=>e.name).sort((e,t)=>e.localeCompare(t)):[]}(eh.make):[],[eh.make]),e1=(0,a.useMemo)(()=>eh.make&&eh.model?function(e,t){if(!e||!t)return[];let s=d[e.toLowerCase()];if(!s)return[];let a=s.models[t.toLowerCase()];return a?Array.from(a.engines.values()).sort((e,t)=>e.localeCompare(t)):[]}(eh.make,eh.model):[],[eh.make,eh.model]),e2=(0,a.useMemo)(()=>!eh.make||eX.includes(eh.make)?eX:[...eX,eh.make],[eh.make,eX]),e3=(0,a.useMemo)(()=>!eh.model||e0.includes(eh.model)?e0:[...e0,eh.model],[eh.model,e0]),e5=(0,a.useMemo)(()=>!eh.engine||e1.includes(eh.engine)?e1:[...e1,eh.engine],[e1,eh.engine]),e4="dark"===eq?"bg-[#06122A] text-slate-100":"bg-gradient-to-r from-sky-900 via-slate-900 to-slate-800 text-white",e9="dark"===eq?"text-slate-200/90":"text-slate-100/80",e6=s?"border border-emerald-400/40 bg-emerald-500/10 text-emerald-300":"dark"===eq?"border border-blue-500/30 bg-blue-900/40 text-blue-200":"border border-slate-200 bg-white/20 text-white",e7="dark"===eq?"border-blue-900/30":"border-sky-900/40";(0,a.useMemo)(()=>{let e=new Set(u[E]??c.map(e=>e.key));return c.filter(t=>e.has(t.key)).map(e=>({key:e.key,label:eQ[e.labelKey],description:eQ[e.descriptionKey]}))},[ef,E]);let e8=(0,a.useCallback)(e=>{eJ.push(`/cars/${e}`)},[eJ]),te=(0,a.useCallback)(e=>{eJ.push(`/dealers/${e}`)},[eJ]),tt="rounded-2xl border border-slate-200 bg-slate-50 p-3 text-slate-900 placeholder-slate-400 focus:border-sky-500 focus:outline-none",ts=(0,a.useMemo)(()=>eE.find(e=>e.id===eP)??null,[eE,eP]),ta=ts?.messages??[];(0,a.useEffect)(()=>{let e=localStorage.getItem(n.STORAGE_KEYS.serviceMode);e&&u[e]&&I(t=>t===e?t:e)},[]),(0,a.useEffect)(()=>{let e=localStorage.getItem(n.STORAGE_KEYS.theme);e&&_(t=>t===e?t:e)},[]),(0,a.useEffect)(()=>{let e=localStorage.getItem(n.STORAGE_KEYS.chatSessions);if(e)try{let t=JSON.parse(e);Array.isArray(t)&&(eI(t),e_(e=>e??t[0]?.id??null))}catch(e){console.warn("Failed to parse chat sessions",e)}},[]),(0,a.useEffect)(()=>{!eP&&eE.length&&e_(eE[0].id)},[eE,eP]),(0,a.useEffect)(()=>{localStorage.setItem(n.STORAGE_KEYS.theme,P)},[P]),(0,a.useEffect)(()=>{localStorage.setItem(n.STORAGE_KEYS.serviceMode,E)},[E]),(0,a.useEffect)(()=>{let e=u[E]??c.map(e=>e.key);e.includes(D)||"addListing"===D||"profile"===D||M(e[0]??"listings")},[E,D]),(0,a.useEffect)(()=>{function e(e){let t=e.target;en&&eV.current&&!eV.current.contains(t)&&eo(!1),ed&&eW.current&&!eW.current.contains(t)&&ec(!1),em&&eY.current&&!eY.current.contains(t)&&eu(!1)}return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[en,ed,em]),(0,a.useEffect)(()=>{function e(e){"Escape"===e.key&&(eo(!1),ec(!1),eu(!1))}return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[]);let tl=(0,a.useCallback)(e=>e?e.startsWith("http")||e.startsWith("data:")||!eZ?e:`${eZ}${e.startsWith("/")?e:`/${e}`}`:"/placeholder-car.svg",[eZ]),tr=(0,a.useCallback)(e=>{if(e.image)return tl(e.image);if(e.galleryImages?.length)return tl(e.galleryImages[0]);let t=e.mediaGallery?.find(e=>"image"===e.type&&e.url)?.url;return t?tl(t):e.imageUrls?.length?tl(e.imageUrls[0]):"/placeholder-car.svg"},[tl]),ti=(0,a.useCallback)((e,t="AED")=>null==e?"TBD":function(e,t="AED"){if(!e&&0!==e)return"TBD";try{return new Intl.NumberFormat("en-US",{style:"currency",currency:t,maximumFractionDigits:0}).format(e)}catch(s){return`${e?.toLocaleString()??"TBD"} ${t}`}}(function(e,t="AED",s="AED"){return null==e?null:t===s?e:e*(b[t]??1)/(b[s]??1)}(e,t,eb)??e,eb),[eb]),tn=(0,a.useCallback)(()=>!!s||(ei({type:"info",message:"Please sign in to access this feature."}),M("profile"),!1),[s]),to=(0,a.useCallback)((e,t="success")=>{ei({message:e,type:t}),setTimeout(()=>ei(null),4e3)},[]);(0,a.useEffect)(()=>{let e=new AbortController;return async function(){try{let t=await (0,r.fetchCars)($,e.signal,s);t.success&&K(t.cars||[])}catch(e){console.error("Failed to load cars",e),"string"==typeof e?.message&&e.message.toLowerCase().includes("auth")}}(),()=>e.abort()},[$,s,tn]),(0,a.useEffect)(()=>{!async function(){try{let e=await (0,r.fetchMakes)(s);if(e.success){let t=Array.from(new Set(["all",...e.makes||[]]));O(t)}}catch(e){console.warn("Failed to load makes",e),"string"==typeof e?.message&&e.message.toLowerCase().includes("auth")&&tn()}}()},[s,tn]),(0,a.useEffect)(()=>{if(!s){W([]),q([]);return}!async function(){try{let[e,t]=await Promise.all([(0,r.fetchFavorites)(s),(0,r.fetchMyListings)(s)]);e.success&&W((e.cars||[]).map(e=>e.id)),t.success&&q(t.cars||[])}catch(e){console.warn("Failed to load protected data",e)}}()},[s]),(0,a.useEffect)(()=>{s?async function(){try{let e=await (0,r.getAnalytics)(Q,s);e.success&&J(e.insights)}catch(e){console.warn("Failed to load analytics",e)}}():J(null)},[s,Q]),(0,a.useEffect)(()=>{if(!s){G([]),B(!1);return}let e=!1;return async function(){B(!0);try{let t=await (0,r.fetchDealers)(s);!e&&t.success&&G(t.dealers||[])}catch(t){e||console.warn("Failed to load dealers",t)}finally{e||B(!1)}}(),()=>{e=!0}},[s]),(0,a.useEffect)(()=>{localStorage.setItem(n.STORAGE_KEYS.chatSessions,JSON.stringify(eE))},[eE]);let td=(0,a.useCallback)((e,t)=>{eI(s=>s.map(s=>s.id===e?{...s,messages:t.slice(-n.CHAT_HISTORY_LIMIT),updatedAt:new Date().toISOString(),title:"New Chat"===s.title&&t.length?t.find(e=>"user"===e.role)?.text.slice(0,60)||"Chat":s.title}:s).sort((e,t)=>e.updatedAt<t.updatedAt?1:-1))},[]),tc=(0,a.useCallback)(()=>{let e={id:`session-${Date.now()}`,title:"New Chat",messages:[],updatedAt:new Date().toISOString()};return eI(t=>[e,...t]),e_(e.id),e.id},[]),tm=(0,a.useCallback)(()=>eP||tc(),[eP,tc]),tu=(0,a.useCallback)(async e=>{if(!tn())return;let t=V.includes(e.id);W(s=>t?s.filter(t=>t!==e.id):[...s,e.id]);try{t?(await (0,r.removeFavorite)(e.id,s),to("Removed from favorites","info")):(await (0,r.addFavorite)(e.id,s),to("Added to favorites"))}catch(s){to("Unable to update favorites","error"),W(s=>t?[...s,e.id]:s.filter(t=>t!==e.id))}},[V,tn,s,to]),tg=(e,t)=>{ep(s=>({...s,[e]:t}))},tx=async e=>{if(tn()){eA(!0);try{let a=await N(e),l=await (0,r.analyzeListingImage)({image_base64:a,mime_type:e.type},s);if(l.success){var t;eC({...l.attributes,raw:l.raw}),t=l.attributes,ep(e=>({...e,make:t.make||e.make,model:t.model||e.model,year:t.year?String(t.year):e.year,bodyStyle:t.bodyStyle||e.bodyStyle,price:t.estimatedPrice?String(t.estimatedPrice):e.price,description:t.conditionDescription||e.description})),to("Vision helper filled the form")}else{let e=l.error;to(e||"Vision helper failed","error")}}catch(e){to(e.message||"Vision helper failed","error")}finally{eA(!1)}}},th=(0,a.useCallback)(async e=>{let t=await (0,r.uploadListingImage)(e,s);if(t.success&&t.url)return t.url;throw Error(t.error||"Upload failed")},[s]),tp=async e=>{if(tn())try{let t=await th(e);tg("image",t),to("Image uploaded")}catch(e){to(e.message||"Upload failed","error")}},tb=async e=>{if(tn()&&e&&0!==e.length)try{let t=Array.from(e).slice(0,6),s=[];for(let e of t){let t=await th(e);s.push(t)}if(!s.length)return;ep(e=>{let t=[...e.galleryImages,...s],a=e.image||t[0]||"";return{...e,galleryImages:t,image:a}}),to("Gallery updated")}catch(e){to(e.message||"Gallery upload failed","error")}},ty=()=>{let e=eH.trim();e&&(ep(t=>{if(t.galleryImages.includes(e))return t;let s=[...t.galleryImages,e];return{...t,galleryImages:s,image:t.image||s[0]||""}}),eB(""))},tf=async()=>{if(!tn())return;if(!eh.make||!eh.model||!eh.year)return void to("Add make, model, and year first","info");let e={make:eh.make,model:eh.model,year:Number(eh.year),bodyStyle:eh.bodyStyle||void 0,horsepower:eh.horsepower?Number(eh.horsepower):void 0,currency:eh.currency};try{let t=await (0,r.getPriceEstimate)(e,s);if(t.success)ek({value:Math.round(t.estimate),currency:t.currency,range:t.range}),tg("price",String(Math.round(t.estimate)));else{let e=t.error;to(e||"Unable to generate estimate","error")}}catch(e){to(e.message||"Unable to generate estimate","error")}},tv=async e=>{if(e.preventDefault(),tn()){ex(!0);try{let e=eh.galleryImages.filter(e=>!!e?.trim()),t=e.length?e:eh.image?[eh.image]:[],a=eh.videoUrl.trim(),l=[...t.map(e=>({type:"image",url:e})),...a?[{type:"video",url:a}]:[]],i={make:eh.make,model:eh.model,year:eh.year?Number(eh.year):void 0,price:eh.price?Number(eh.price):void 0,currency:eh.currency,odometerKm:eh.odometer?Number(eh.odometer):void 0,image:eh.image||t[0],galleryImages:t,mediaGallery:l,videoUrl:a||void 0,description:eh.description,specs:{bodyStyle:eh.bodyStyle,horsepower:eh.horsepower?Number(eh.horsepower):void 0,engine:eh.engine,fuelEconomy:eh.fuelEconomy}},n=await (0,r.createListing)(i,s);if(n.success){to("Listing created successfully"),ep({make:"",model:"",year:"",price:"",currency:eh.currency,bodyStyle:"",horsepower:"",engine:"",fuelEconomy:"",odometer:"",image:"",galleryImages:[],videoUrl:"",description:""}),eB(""),ek(null),eC(null);let e=await (0,r.fetchMyListings)(s);e.success&&q(e.cars||[])}else to(n.error||"Could not create listing","error")}catch(e){to(e.message||"Could not create listing","error")}finally{ex(!1)}}},tj=async e=>{if(tn())try{await (0,r.deleteListing)(e,s),q(t=>t.filter(t=>t.id!==e)),to("Listing removed","info")}catch(e){to(e.message||"Unable to delete listing","error")}},tN=async e=>{if(e.preventDefault(),tn()){if(!X.trim())return void es([]);el(!0);try{let e=await (0,r.semanticSearch)(X.trim(),6,s);e.success&&es(e.results?.map(e=>e.car)||[])}catch(e){to("Semantic search failed","error")}finally{el(!1)}}},tw=async()=>{if(!tn())return;let e=e$.trim();if(!e&&!eR)return;let t=tm();t||(t=tc());let a=new Date().toISOString(),l=[...ta,{id:`user-${a}`,role:"user",text:e||"[Attachment] Please analyze the uploaded image.",timestamp:a,attachmentUrl:eR?.preview}].slice(-n.CHAT_HISTORY_LIMIT);td(t,l),eT(""),eO(null),eK(!0);try{let a=l.filter(e=>"user"===e.role||"assistant"===e.role).map(e=>({role:"user"===e.role?"user":"bot",text:e.text})),i="listing"===eD?await (0,r.handleListingAssistantMessage)({query:e,history:a},s):await (0,r.handleChatbotMessage)({query:e,history:a,imageBase64:eR?.base64,imageMimeType:eR?.mime},s),n={id:`assistant-${Date.now()}`,role:"assistant",text:i.response,timestamp:new Date().toISOString(),relevantCarIds:i.relevant_car_ids||[],listingData:i.listing_data||null,actionType:i.action_type||null};td(t,[...l,n])}catch(e){to(e.message||"Assistant failed to respond","error")}finally{eK(!1)}},tk=(0,a.useMemo)(()=>U.filter(e=>("all"===$.make||e.make===$.make)&&(!$.search||!!`${e.make} ${e.model} ${e.year}`.toLowerCase().includes($.search.toLowerCase()))&&!0),[U,$]),tS=(0,a.useMemo)(()=>{let e=[...tk];switch($.sort){case"price-asc":return e.sort((e,t)=>(e.price||0)-(t.price||0));case"price-desc":return e.sort((e,t)=>(t.price||0)-(e.price||0));case"rating-desc":return e.sort((e,t)=>(t.rating||0)-(e.rating||0));case"year-desc":return e.sort((e,t)=>(t.year||0)-(e.year||0));default:return e}},[tk,$.sort]),tC=(0,a.useMemo)(()=>Math.max(1,Math.ceil(tS.length/9)),[tS.length]);(0,a.useEffect)(()=>{eG(1)},[$.make,$.search,$.sort]),(0,a.useEffect)(()=>{eF>tC&&eG(tC)},[eF,tC]);let tL=(0,a.useMemo)(()=>{let e=(eF-1)*9;return tS.slice(e,e+9)},[eF,tS]),tA=(0,a.useMemo)(()=>{if(tC<=5)return Array.from({length:tC},(e,t)=>t+1);let e=Math.max(1,eF-2),t=Math.min(tC,e+4);return e=Math.max(1,t-4),Array.from({length:t-e+1},(t,s)=>e+s)},[eF,tC]),tD=(0,a.useCallback)(e=>{eG(Math.min(Math.max(e,1),tC)),window.scrollTo({top:0,behavior:"smooth"})},[tC]),tM=e=>(0,t.jsxs)("div",{className:"flex flex-col rounded-3xl border border-slate-100 bg-white/90 p-4 shadow-lg transition hover:-translate-y-1 hover:shadow-xl",children:[(0,t.jsxs)("div",{className:"relative overflow-hidden rounded-2xl bg-slate-100",children:[(0,t.jsx)("img",{src:tr(e),alt:`${e.make} ${e.model}`,loading:"lazy",onError:e=>{let t=e.currentTarget;t.src.includes("placeholder-car.svg")||(t.src="/placeholder-car.svg")},className:"h-48 w-full object-cover"}),(0,t.jsx)("button",{onClick:()=>tu(e),className:`absolute right-3 top-3 rounded-full px-3 py-1 text-xs font-semibold ${V.includes(e.id)?"bg-rose-500 text-white":"bg-white/90 text-slate-900"}`,children:V.includes(e.id)?"Favorited":"Favorite"})]}),(0,t.jsxs)("div",{className:"mt-4 flex items-start justify-between gap-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h3",{className:"text-lg font-semibold text-slate-900",children:[e.make," ",e.model]}),(0,t.jsx)("p",{className:"text-sm text-slate-500",children:e.year||"Year TBD"})]}),(0,t.jsx)("div",{className:"text-right text-2xl font-bold text-emerald-600",children:ti(e.price,e.currency)})]}),e.specs?.bodyStyle&&(0,t.jsx)("p",{className:"text-sm text-slate-600",children:e.specs.bodyStyle}),(0,t.jsxs)("div",{className:"mt-4 flex flex-wrap gap-2 text-xs text-slate-500",children:[e.rating?(0,t.jsxs)("span",{children:["â­ ",e.rating.toFixed(1)]}):null,e.reviews?(0,t.jsxs)("span",{children:[e.reviews," reviews"]}):null,e.galleryImages?.length?(0,t.jsxs)("span",{children:[e.galleryImages.length," photos"]}):null,e.videoUrl?(0,t.jsx)("span",{children:"ðŸŽ¥ Video"}):null,e.odometerKm?(0,t.jsxs)("span",{children:[e.odometerKm.toLocaleString()," km"]}):null]}),e.description&&(0,t.jsx)("p",{className:"mt-3 line-clamp-3 text-sm text-slate-600",children:e.description}),(0,t.jsx)("button",{className:"mt-4 w-full rounded-xl bg-sky-600 py-2 text-sm font-semibold text-white hover:bg-sky-700",onClick:()=>e8(e.id),children:"View Details"})]},e.id);eQ[ez.labelKey],eQ[ez.descriptionKey];let tE=new Date().getFullYear();return(0,t.jsxs)("div",{className:`${"dark"===eq?"bg-gradient-to-b from-slate-950 via-slate-900 to-slate-950 text-slate-100":"bg-gradient-to-br from-slate-50 via-white to-sky-50 text-slate-900"} min-h-screen`,dir:"ar"===ef?"rtl":"ltr",children:[(()=>{if(!er)return null;let e="error"===er.type?"bg-red-500/90":"info"===er.type?"bg-blue-500/90":"bg-emerald-500/90";return(0,t.jsx)("div",{className:`fixed top-6 right-6 z-50 rounded-xl px-4 py-3 text-white shadow-xl ${e}`,children:er.message})})(),(0,t.jsxs)("header",{className:`sticky top-0 z-50 border-b backdrop-blur-md transition-colors duration-300 ${e4} ${e7}`,children:[(0,t.jsxs)("div",{className:"mx-auto flex h-20 max-w-7xl items-center justify-between px-4 sm:px-6 lg:px-8",children:[(0,t.jsxs)("div",{className:"flex items-center gap-8",children:[(0,t.jsx)("div",{className:"group flex cursor-pointer items-center gap-3",onClick:()=>M("listings"),children:(0,t.jsx)("img",{src:"/intellliwheels_logo_concept_dynamic.png",alt:"IntelliWheels",className:"h-16 w-auto object-contain transition-transform group-hover:scale-105"})}),(0,t.jsx)("nav",{className:"hidden items-center gap-1 md:flex",children:[{key:"listings",label:eQ.navCatalog},{key:"dealers",label:eQ.navDealers},{key:"addListing",label:eQ.navAddListing},{key:"chatbot",label:eQ.navChatbot},{key:"analytics",label:eQ.navAnalytics}].map(e=>(0,t.jsx)("button",{onClick:()=>M(e.key),className:`rounded-xl px-4 py-2 text-sm font-semibold transition-all ${D===e.key?"bg-slate-100/10 text-indigo-500 shadow-sm ring-1 ring-inset ring-slate-200/10 dark:text-indigo-400":"text-slate-500 hover:bg-slate-100/5 hover:text-slate-900 dark:text-slate-400 dark:hover:text-slate-200"}`,children:e.label},e.key))})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:`hidden h-8 w-px md:block ${"dark"===eq?"bg-slate-800":"bg-slate-200"}`}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("button",{className:"hidden rounded-full p-2 text-slate-500 transition hover:bg-slate-100 dark:hover:bg-slate-800 sm:block",children:(0,t.jsx)("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"})})}),(0,t.jsxs)("div",{className:"relative",ref:eY,children:[(0,t.jsxs)("button",{onClick:()=>eu(!em),className:`flex items-center gap-2 rounded-full border p-1 pr-4 transition-all hover:shadow-md ${e6}`,children:[(0,t.jsx)("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-slate-900 text-xs font-bold text-white dark:bg-white dark:text-slate-900",children:e?.username?.[0]?.toUpperCase()||"G"}),(0,t.jsx)("span",{className:"text-xs font-bold",children:e?e.username:eQ.statusGuest}),(0,t.jsx)("span",{className:"text-xs opacity-50",children:"â–¼"})]}),em&&(0,t.jsxs)("div",{className:"absolute right-0 top-full mt-4 w-72 origin-top-right overflow-hidden rounded-3xl border border-slate-100 bg-white shadow-2xl ring-1 ring-black/5 dark:border-slate-800 dark:bg-slate-900",children:[(0,t.jsxs)("div",{className:"bg-slate-50 px-6 py-4 dark:bg-slate-800/50",children:[(0,t.jsx)("p",{className:"text-xs font-bold uppercase tracking-wider text-slate-500",children:eQ.settingsTitle}),(0,t.jsx)("p",{className:"text-sm text-slate-400",children:eQ.settingsSubtitle})]}),(0,t.jsxs)("div",{className:"p-2",children:[(0,t.jsxs)("button",{onClick:()=>{M("profile"),eu(!1)},className:"flex w-full items-center gap-3 rounded-2xl p-3 text-left hover:bg-slate-50 dark:hover:bg-slate-800",children:[(0,t.jsx)("span",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-indigo-50 text-xl dark:bg-indigo-900/30",children:"ðŸ‘¤"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:`font-semibold text-sm ${"dark"===eq?"text-slate-200":"text-slate-900"}`,children:e?eQ.settingsProfileCta:eQ.settingsProfileGuest}),(0,t.jsx)("p",{className:"text-xs text-slate-500",children:e?.email||"Manage account"})]})]}),(0,t.jsx)("div",{className:"my-2 h-px bg-slate-100 dark:bg-slate-800"}),(0,t.jsx)("div",{className:"my-2 h-px bg-slate-100 dark:bg-slate-800"}),(0,t.jsxs)("div",{className:"space-y-4 px-3 py-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"mb-1 block text-xs font-bold text-slate-500",children:eQ.settingsLanguage}),(0,t.jsx)("div",{className:"grid grid-cols-2 gap-2",children:h.map(e=>(0,t.jsx)("button",{onClick:()=>ev(e.value),className:`rounded-lg py-1.5 text-xs font-semibold transition ${ef===e.value?"bg-slate-900 text-white dark:bg-white dark:text-slate-900":"bg-slate-100 text-slate-600 hover:bg-slate-200 dark:bg-slate-800 dark:text-slate-400"}`,children:e.label},e.value))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"mb-1 block text-xs font-bold text-slate-500",children:eQ.settingsCurrency}),(0,t.jsx)("select",{value:eb,onChange:e=>ey(e.target.value),className:"w-full appearance-none rounded-xl border-slate-200 bg-slate-50 px-3 py-2 text-xs font-semibold text-slate-700 outline-none focus:ring-2 focus:ring-indigo-500 dark:border-slate-700 dark:bg-slate-800 dark:text-slate-300",children:p.map(e=>(0,t.jsx)("option",{value:e,children:e},e))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"mb-1 text-xs font-bold text-slate-500",children:eQ.themeLabel}),(0,t.jsx)("div",{className:"grid grid-cols-3 gap-2",children:g.map(e=>(0,t.jsx)("button",{onClick:()=>_(e.value),className:`rounded-lg py-2 text-xs font-semibold transition ${P===e.value?"bg-indigo-600 text-white shadow-lg shadow-indigo-500/30":"bg-slate-100 text-slate-600 hover:bg-slate-200 dark:bg-slate-800 dark:text-slate-400"}`,children:eQ[e.labelKey]},e.value))})]}),(0,t.jsx)("div",{className:"mt-2",children:e?(0,t.jsx)("button",{onClick:()=>{k(),eu(!1)},className:"w-full rounded-xl border border-slate-200 py-2.5 text-center text-sm font-bold text-rose-600 hover:bg-rose-50 dark:border-slate-700 dark:hover:bg-rose-900/20",children:"Sign Out"}):(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-2 p-1",children:[(0,t.jsx)("button",{onClick:()=>{M("profile"),eu(!1)},className:"rounded-xl border border-slate-200 py-2.5 text-sm font-bold text-slate-700 hover:bg-slate-50",children:"Sign In"}),(0,t.jsx)("button",{onClick:()=>{M("profile"),eu(!1)},className:"rounded-xl bg-slate-900 py-2.5 text-sm font-bold text-white hover:bg-slate-800",children:"Sign Up"})]})})]})]})]})]}),(0,t.jsx)("button",{className:"flex h-10 w-10 items-center justify-center rounded-full border border-slate-200 text-slate-600 md:hidden dark:border-slate-700 dark:text-slate-300",onClick:()=>ec(!ed),children:"â˜°"})]})]})]}),ed&&(0,t.jsx)("div",{className:"border-t border-slate-100 bg-white/95 px-4 py-4 backdrop-blur-xl dark:border-slate-800 dark:bg-slate-900/95 md:hidden",children:(0,t.jsx)("div",{className:"space-y-1",children:[{key:"listings",label:eQ.navCatalog},{key:"dealers",label:eQ.navDealers},{key:"chatbot",label:eQ.navChatbot},{key:"analytics",label:eQ.navAnalytics},{key:"profile",label:eQ.navProfile}].map(e=>(0,t.jsx)("button",{onClick:()=>{M(e.key),ec(!1)},className:`block w-full rounded-xl px-4 py-3 text-left font-semibold ${D===e.key?"bg-indigo-50 text-indigo-600 dark:bg-indigo-900/20 dark:text-indigo-400":"text-slate-600 hover:bg-slate-50 dark:text-slate-300"}`,children:e.label},e.key))})})]}),(0,t.jsx)("div",{className:"mx-auto max-w-7xl space-y-8 px-4 py-10",children:(0,t.jsx)("main",{className:`rounded-3xl ${"dark"===eq?"border-slate-800 bg-slate-900/80 text-slate-100":"border-slate-100 bg-white/90 text-slate-900"} p-6 shadow-lg`,children:o?(0,t.jsx)("p",{className:"text-center text-slate-500",children:"Loading account..."}):(()=>{switch(D){case"listings":return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid gap-4 lg:grid-cols-[2fr,1fr]",children:[(0,t.jsx)("div",{className:"rounded-3xl border border-slate-100 bg-white p-4 shadow-sm",children:(0,t.jsxs)("div",{className:"grid gap-4 md:grid-cols-3",children:[(0,t.jsx)("select",{value:$.make,name:"filter-make",id:"filter-make",onChange:e=>T(t=>({...t,make:e.target.value})),className:tt,children:R.map(e=>(0,t.jsx)("option",{value:e,children:j(e)},e))}),(0,t.jsx)("input",{name:"filter-search",id:"filter-search",value:$.search,onChange:e=>T(t=>({...t,search:e.target.value})),placeholder:"Search make, model, year",className:tt}),(0,t.jsxs)("select",{value:$.sort,name:"filter-sort",id:"filter-sort",onChange:e=>T(t=>({...t,sort:e.target.value})),className:tt,children:[(0,t.jsx)("option",{value:"default",children:"Recommended"}),(0,t.jsx)("option",{value:"price-asc",children:"Price: Low â†’ High"}),(0,t.jsx)("option",{value:"price-desc",children:"Price: High â†’ Low"}),(0,t.jsx)("option",{value:"year-desc",children:"Newer first"}),(0,t.jsx)("option",{value:"rating-desc",children:"Top rated"})]})]})}),(0,t.jsxs)("form",{onSubmit:tN,className:"rounded-3xl border border-slate-100 bg-white p-4 shadow-sm",children:[(0,t.jsx)("p",{className:"text-sm font-semibold text-slate-900",children:"AI Semantic Search"}),(0,t.jsxs)("div",{className:"mt-3 flex gap-3",children:[(0,t.jsx)("input",{name:"semantic-query",id:"semantic-query",value:X,onChange:e=>ee(e.target.value),placeholder:"e.g. Luxury hybrid SUV under 150k",className:`flex-1 ${tt}`}),(0,t.jsx)("button",{className:"rounded-2xl bg-sky-600 px-4 py-2 text-sm font-semibold text-white",children:ea?"Searching...":"Search"})]}),et.length>0&&(0,t.jsx)("div",{className:"mt-4 space-y-3",children:et.map(e=>(0,t.jsxs)("div",{className:"flex items-center gap-3 rounded-2xl border border-slate-100 bg-slate-50 p-3 text-sm text-slate-600",children:[(0,t.jsx)("img",{src:tr(e),alt:e.model,className:"h-14 w-20 rounded-xl object-cover"}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("span",{className:"font-semibold text-slate-900",children:[e.make," ",e.model]}),(0,t.jsx)("button",{className:"text-xs text-sky-600",onClick:()=>e8(e.id),children:"Inspect"})]}),(0,t.jsx)("p",{children:ti(e.price,e.currency)})]})]},e.id))})]})]}),(0,t.jsx)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:0===tL.length?(0,t.jsx)("p",{className:"col-span-full text-center text-slate-500",children:"No listings match your filters yet."}):tL.map(e=>tM(e))}),tS.length>0&&(0,t.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-4 rounded-3xl border border-slate-100 bg-white px-4 py-3 text-sm text-slate-600 shadow-sm",children:[(0,t.jsxs)("p",{children:["Showing ",Math.min((eF-1)*9+1,tS.length),"-",Math.min(9*eF,tS.length)," of ",tS.length," listings"]}),tC>1&&(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,t.jsx)("button",{type:"button",onClick:()=>tD(eF-1),disabled:1===eF,className:"rounded-2xl border border-slate-200 px-3 py-1 font-semibold text-slate-700 disabled:cursor-not-allowed disabled:border-slate-100 disabled:text-slate-300",children:"Prev"}),tA[0]>1&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("button",{type:"button",onClick:()=>tD(1),className:"rounded-2xl border border-slate-200 px-3 py-1 font-semibold text-slate-700",children:"1"}),tA[0]>2&&(0,t.jsx)("span",{className:"text-slate-400",children:"â€¦"})]}),tA.map(e=>(0,t.jsx)("button",{type:"button",onClick:()=>tD(e),className:`rounded-2xl px-3 py-1 font-semibold ${eF===e?"bg-sky-600 text-white":"border border-slate-200 text-slate-700"}`,children:e},e)),tA[tA.length-1]<tC&&(0,t.jsxs)(t.Fragment,{children:[tA[tA.length-1]<tC-1&&(0,t.jsx)("span",{className:"text-slate-400",children:"â€¦"}),(0,t.jsx)("button",{type:"button",onClick:()=>tD(tC),className:"rounded-2xl border border-slate-200 px-3 py-1 font-semibold text-slate-700",children:tC})]}),(0,t.jsx)("button",{type:"button",onClick:()=>tD(eF+1),disabled:eF===tC,className:"rounded-2xl border border-slate-200 px-3 py-1 font-semibold text-slate-700 disabled:cursor-not-allowed disabled:border-slate-100 disabled:text-slate-300",children:"Next"})]})]})]});case"favorites":return(0,t.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[U.filter(e=>V.includes(e.id)).map(e=>tM(e)),0===V.length&&(0,t.jsx)("p",{className:"text-slate-500",children:"No favorites yet."})]});case"dealers":if(!tn())return null;return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-slate-900",children:eQ.dealersHeading}),(0,t.jsx)("p",{className:"text-sm text-slate-600",children:eQ.dealersSubheading})]}),H?(0,t.jsx)("p",{className:"text-slate-500",children:"Loading dealers..."}):F.length?(0,t.jsx)("div",{className:"grid gap-4 md:grid-cols-2 xl:grid-cols-3",children:F.map(e=>(0,t.jsxs)("div",{className:"flex flex-col rounded-3xl border border-slate-100 bg-white/90 p-4 shadow hover:shadow-lg",children:[(0,t.jsx)("div",{className:"h-40 overflow-hidden rounded-2xl bg-slate-100",children:(0,t.jsx)("img",{src:e.hero_image||"/placeholder-car.svg",alt:e.name,className:"h-full w-full object-cover"})}),(0,t.jsxs)("div",{className:"mt-4 flex items-start justify-between gap-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-slate-900",children:e.name}),(0,t.jsxs)("p",{className:"text-sm text-slate-500",children:[e.total_listings," ",eQ.dealerMetaListings]})]}),(0,t.jsxs)("div",{className:"text-right text-sm text-slate-500",children:[(0,t.jsx)("p",{children:eQ.dealerMetaAverage}),(0,t.jsx)("p",{className:"text-base font-semibold text-emerald-600",children:e.average_price?ti(e.average_price,"AED"):"â€”"})]})]}),e.top_makes?.length?(0,t.jsxs)("div",{className:"mt-3 text-xs text-slate-500",children:[(0,t.jsx)("p",{className:"font-semibold text-slate-700",children:eQ.dealerMetaTopMakes}),(0,t.jsx)("p",{children:e.top_makes.map(e=>e.make).slice(0,3).join(", ")})]}):null,(0,t.jsx)("button",{className:"mt-4 w-full rounded-xl bg-slate-900/90 py-2 text-sm font-semibold text-white",onClick:()=>te(e.id),children:eQ.dealersVisit})]},e.id))}):(0,t.jsx)("p",{className:"text-slate-500",children:eQ.dealersEmpty})]});case"myListings":if(!tn())return null;return(0,t.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[Y.map(e=>(0,t.jsxs)("div",{className:"rounded-3xl border border-slate-100 bg-white p-4 shadow-sm",children:[(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("img",{src:tr(e),alt:e.model,className:"h-24 w-32 rounded-2xl object-cover"}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("h3",{className:"text-lg font-semibold text-slate-900",children:[e.make," ",e.model]}),(0,t.jsx)("p",{className:"text-sm text-slate-500",children:e.year}),(0,t.jsx)("p",{className:"text-xl font-bold text-emerald-600",children:ti(e.price,e.currency)}),e.odometerKm?(0,t.jsxs)("p",{className:"text-xs text-slate-500",children:[e.odometerKm.toLocaleString()," km"]}):null]})]}),(0,t.jsxs)("div",{className:"mt-4 flex gap-3",children:[(0,t.jsx)("button",{className:"flex-1 rounded-2xl bg-slate-900/5 py-2 text-sm font-semibold text-slate-900",onClick:()=>e8(e.id),children:"View"}),(0,t.jsx)("button",{className:"flex-1 rounded-2xl bg-rose-500 py-2 text-sm font-semibold text-white",onClick:()=>tj(e.id),children:"Delete"})]})]},e.id)),0===Y.length&&(0,t.jsx)("p",{className:"text-slate-500",children:"No personal listings yet."})]});case"addListing":if(!tn())return null;return(0,t.jsxs)("div",{className:"grid gap-6 lg:grid-cols-[1.2fr,0.8fr]",children:[(0,t.jsxs)("form",{className:"space-y-4 rounded-3xl border border-slate-100 bg-white p-6 shadow-sm",onSubmit:tv,children:[(0,t.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,t.jsxs)("select",{name:"listing-make",id:"listing-make",value:eh.make,onChange:e=>{var t;return t=e.target.value,void ep(e=>({...e,make:t,model:"",engine:""}))},className:tt,required:!0,children:[(0,t.jsx)("option",{value:"",children:eQ.makeSelectLabel}),e2.map(e=>(0,t.jsx)("option",{value:e,children:e},e))]}),(0,t.jsxs)("select",{name:"listing-model",id:"listing-model",value:eh.model,onChange:e=>{var t;return t=e.target.value,void ep(e=>({...e,model:t,engine:""}))},className:tt,required:!0,disabled:!eh.make,children:[(0,t.jsx)("option",{value:"",children:eQ.modelSelectLabel}),e3.map(e=>(0,t.jsx)("option",{value:e,children:e},e))]}),(0,t.jsx)("input",{name:"listing-year",id:"listing-year",value:eh.year,onChange:e=>tg("year",e.target.value),placeholder:"Year",className:tt,required:!0}),(0,t.jsx)("input",{name:"listing-price",id:"listing-price",value:eh.price,onChange:e=>tg("price",e.target.value),placeholder:"Price",className:tt,required:!0}),(0,t.jsx)("select",{name:"listing-currency",id:"listing-currency",value:eh.currency,onChange:e=>tg("currency",e.target.value),className:tt,children:p.map(e=>(0,t.jsx)("option",{value:e,children:e},e))}),(0,t.jsx)("input",{name:"listing-bodystyle",id:"listing-bodystyle",value:eh.bodyStyle,onChange:e=>tg("bodyStyle",e.target.value),placeholder:"Body style",className:tt}),(0,t.jsx)("input",{name:"listing-horsepower",id:"listing-horsepower",value:eh.horsepower,onChange:e=>tg("horsepower",e.target.value),placeholder:"Horsepower",className:tt}),e5.length>0?(0,t.jsxs)("select",{name:"listing-engine",id:"listing-engine",value:eh.engine,onChange:e=>tg("engine",e.target.value),className:tt,disabled:!eh.model,children:[(0,t.jsx)("option",{value:"",children:eQ.engineSelectLabel}),e5.map(e=>(0,t.jsx)("option",{value:e,children:e},e))]}):(0,t.jsx)("input",{name:"listing-engine",id:"listing-engine",value:eh.engine,onChange:e=>tg("engine",e.target.value),placeholder:eQ.engineSelectLabel,className:tt}),(0,t.jsx)("input",{name:"listing-fueleconomy",id:"listing-fueleconomy",value:eh.fuelEconomy,onChange:e=>tg("fuelEconomy",e.target.value),placeholder:"Fuel economy",className:tt}),(0,t.jsx)("input",{name:"listing-odometer",id:"listing-odometer",value:eh.odometer,onChange:e=>tg("odometer",e.target.value),placeholder:eQ.odometerLabel,className:tt,type:"number",min:"0"}),(0,t.jsx)("input",{name:"listing-image",id:"listing-image",value:eh.image,onChange:e=>tg("image",e.target.value),placeholder:"Image URL",className:tt})]}),(0,t.jsx)("textarea",{name:"listing-description",id:"listing-description",value:eh.description,onChange:e=>tg("description",e.target.value),placeholder:"Description",className:`h-32 w-full ${tt}`}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-3",children:[(0,t.jsx)("button",{type:"button",className:"rounded-2xl bg-sky-600 px-4 py-2 text-sm font-semibold text-white",onClick:tf,children:eQ.priceAssistLabel}),(0,t.jsxs)("label",{className:"cursor-pointer rounded-2xl border border-dashed border-slate-300 px-4 py-2 text-sm font-semibold text-slate-900",children:[eQ.uploadPhotoLabel,(0,t.jsx)("input",{type:"file",accept:"image/*",className:"hidden",onChange:e=>{let t=e.target.files?.[0];t&&tp(t)}})]}),(0,t.jsxs)("label",{className:"cursor-pointer rounded-2xl border border-dashed border-slate-300 px-4 py-2 text-sm font-semibold text-slate-900",children:[eQ.visionHelperLabel,(0,t.jsx)("input",{type:"file",accept:"image/*",className:"hidden",onChange:e=>{let t=e.target.files?.[0];t&&tx(t)}})]})]}),(0,t.jsxs)("div",{className:"space-y-3 rounded-2xl border border-slate-200 bg-slate-50 p-4",children:[(0,t.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-semibold text-slate-900",children:eQ.galleryLabel}),(0,t.jsx)("p",{className:"text-xs text-slate-500",children:eQ.galleryHint})]}),(0,t.jsxs)("label",{className:"cursor-pointer rounded-2xl border border-dashed border-slate-300 px-3 py-2 text-xs font-semibold text-slate-900",children:[eQ.galleryUploadLabel,(0,t.jsx)("input",{type:"file",accept:"image/*",name:"gallery-url",id:"gallery-url",multiple:!0,className:"hidden",onChange:e=>tb(e.target.files)})]})]}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,t.jsx)("input",{value:eH,onChange:e=>eB(e.target.value),placeholder:"Paste image URL",className:`flex-1 ${tt}`}),(0,t.jsx)("button",{type:"button",className:"rounded-2xl bg-slate-900/10 px-4 py-2 text-sm font-semibold text-slate-900",onClick:ty,children:eQ.galleryAddButton})]}),(0,t.jsxs)("div",{className:"grid gap-3 sm:grid-cols-3",children:[0===eh.galleryImages.length&&(0,t.jsx)("p",{className:"text-sm text-slate-500 sm:col-span-3",children:eQ.galleryEmpty}),eh.galleryImages.map((e,s)=>(0,t.jsxs)("div",{className:"relative overflow-hidden rounded-2xl border border-slate-200 bg-white",children:['name="video-url" id="video-url"',(0,t.jsx)("img",{src:e,alt:`Gallery ${s+1}`,className:"h-32 w-full object-cover"}),(0,t.jsx)("button",{type:"button",className:"absolute right-2 top-2 rounded-full bg-white/90 px-2 py-1 text-xs font-semibold text-rose-500",onClick:()=>{ep(e=>{let t=e.galleryImages[s],a=e.galleryImages.filter((e,t)=>t!==s),l=e.image;return l===t&&(l=a[0]||""),{...e,galleryImages:a,image:l}})},children:eQ.galleryRemove})]},`${e}-${s}`))]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs uppercase tracking-wide text-slate-500",children:eQ.videoLabel}),(0,t.jsx)("input",{value:eh.videoUrl,onChange:e=>tg("videoUrl",e.target.value),placeholder:"https://www.youtube.com/watch?v=...",className:`mt-1 w-full ${tt}`})]})]}),ew&&(0,t.jsxs)("div",{className:"rounded-2xl bg-emerald-50 p-4 text-sm text-emerald-900",children:["Suggested price ",ti(ew.value,ew.currency),ew.range&&(0,t.jsxs)("p",{className:"text-emerald-700",children:["Range ",ti(ew.range.low,ew.currency)," â†’ ",ti(ew.range.high,ew.currency)]})]}),eS&&(0,t.jsxs)("div",{className:"rounded-2xl border border-slate-100 bg-slate-50 p-4 text-sm text-slate-600",children:[(0,t.jsx)("p",{className:"font-semibold text-slate-900",children:"Vision insights"}),eS.highlights?.map((e,s)=>(0,t.jsxs)("p",{children:["â€¢ ",e]},s))]}),(0,t.jsx)("button",{className:"w-full rounded-2xl bg-emerald-600 py-3 text-lg font-semibold text-white",disabled:eg,children:eg?"Publishing...":"Publish Listing"})]}),(0,t.jsxs)("div",{className:"space-y-4 rounded-3xl border border-slate-100 bg-white p-6 shadow-sm",children:[(0,t.jsx)("h3",{className:"text-xl font-semibold text-slate-900",children:"Vision Helper Tips"}),(0,t.jsx)("p",{className:"text-sm text-slate-600",children:"Upload clear daylight shots. The AI will detect make, model, color, and condition to pre-fill your listing."}),eL&&(0,t.jsx)("p",{className:"text-slate-500",children:"Analyzing image..."})]})]});case"profile":return e?(0,t.jsxs)("div",{className:"grid gap-6 md:grid-cols-2",children:[(0,t.jsxs)("div",{className:"rounded-3xl border border-slate-100 bg-white p-6 shadow-sm",children:[(0,t.jsx)("h3",{className:"text-xl font-semibold text-slate-900",children:"Profile"}),(0,t.jsxs)("p",{className:"text-slate-600",children:["Username: ",e.username]}),(0,t.jsxs)("p",{className:"text-slate-600",children:["Email: ",e.email]}),(0,t.jsx)("button",{className:"mt-4 rounded-2xl border border-slate-200 px-4 py-2 text-sm font-semibold text-slate-900",onClick:()=>C(),children:"Refresh Profile"})]}),(0,t.jsxs)("div",{className:"rounded-3xl border border-slate-100 bg-white p-6 shadow-sm",children:[(0,t.jsx)("h3",{className:"text-xl font-semibold text-slate-900",children:"Update Profile"}),(0,t.jsxs)("form",{className:"mt-4 space-y-3",onSubmit:async e=>{e.preventDefault();let t=e.currentTarget,s=new FormData(t),a=s.get("profile-username")?.toString(),l=s.get("profile-email")?.toString(),r=s.get("profile-current-password")?.toString(),i=s.get("profile-password")?.toString();await S({username:a,email:l,current_password:r,password:i})&&(to("Profile updated"),t.reset())},children:[(0,t.jsx)("input",{name:"profile-username",placeholder:"Username",defaultValue:e.username,className:`w-full ${tt}`}),(0,t.jsx)("input",{name:"profile-email",type:"email",placeholder:"Email",defaultValue:e.email,className:`w-full ${tt}`}),(0,t.jsx)("input",{name:"profile-current-password",type:"password",placeholder:"Current password",className:`w-full ${tt}`}),(0,t.jsx)("input",{name:"profile-password",type:"password",placeholder:"New password",className:`w-full ${tt}`}),(0,t.jsx)("button",{className:"w-full rounded-2xl bg-emerald-500 py-3 font-semibold text-white",children:"Save Changes"})]}),(0,t.jsx)("button",{className:"mt-4 w-full rounded-2xl border border-slate-200 py-2 font-semibold text-slate-900",onClick:()=>k(),children:"Sign Out"})]})]}):(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("p",{className:"text-slate-600",children:"Sign in to manage your account and unlock favorites, listings, and analytics."}),(0,t.jsxs)("div",{className:"grid gap-6 md:grid-cols-2",children:[(0,t.jsxs)("div",{className:"rounded-3xl border border-slate-100 bg-white p-6 shadow-sm",children:[(0,t.jsx)("h3",{className:"text-xl font-semibold text-slate-900",children:"Sign In"}),L&&(0,t.jsx)("p",{className:"mt-3 rounded-2xl bg-rose-50 px-4 py-2 text-sm font-semibold text-rose-600",children:L}),(0,t.jsxs)("form",{className:"mt-4 space-y-4",onSubmit:async e=>{e.preventDefault();let t=new FormData(e.currentTarget),s=String(t.get("login-username")),a=String(t.get("login-password"));A(),await f(s,a)?to(`Welcome back, ${s}!`):to("Unable to sign in. Please check your details.","error")},children:[(0,t.jsx)("input",{name:"login-username",placeholder:"Username",className:`w-full ${tt}`,required:!0}),(0,t.jsx)("input",{name:"login-password",type:"password",placeholder:"Password",className:`w-full ${tt}`,required:!0}),(0,t.jsx)("button",{className:"w-full rounded-2xl bg-sky-600 py-3 font-semibold text-white",children:"Sign In"})]})]}),(0,t.jsxs)("div",{className:"rounded-3xl border border-slate-100 bg-white p-6 shadow-sm",children:[(0,t.jsx)("h3",{className:"text-xl font-semibold text-slate-900",children:"Create Account"}),(0,t.jsxs)("form",{className:"mt-4 space-y-4",onSubmit:async e=>{e.preventDefault();let t=e.currentTarget,s=new FormData(t),a=String(s.get("signup-username")),l=String(s.get("signup-email")),r=String(s.get("signup-password"));A(),await w(a,l,r)?(to("Account created! You are now signed in."),t.reset()):to("Unable to sign up. Please try again.","error")},children:[(0,t.jsx)("input",{name:"signup-username",placeholder:"Username",className:`w-full ${tt}`,required:!0}),(0,t.jsx)("input",{name:"signup-email",type:"email",placeholder:"Email",className:`w-full ${tt}`,required:!0}),(0,t.jsx)("input",{name:"signup-password",type:"password",placeholder:"Password",className:`w-full ${tt}`,required:!0}),(0,t.jsx)("button",{className:"w-full rounded-2xl bg-emerald-500 py-3 font-semibold text-white",children:"Sign Up"})]})]})]})]});case"chatbot":return(0,t.jsxs)("div",{className:"grid gap-6 lg:grid-cols-[280px,1fr]",children:[(0,t.jsxs)("div",{className:"rounded-3xl border border-slate-100 bg-white p-4 shadow-sm",children:[(0,t.jsx)("button",{className:"w-full rounded-2xl bg-slate-900/5 px-3 py-2 text-sm font-semibold text-slate-900",onClick:()=>tc(),children:"+ New Chat"}),(0,t.jsx)("div",{className:"mt-4 space-y-2",children:eE.map(e=>(0,t.jsxs)("button",{onClick:()=>e_(e.id),className:`w-full rounded-2xl px-3 py-2 text-left text-sm ${e.id===eP?"bg-sky-50 text-slate-900":"bg-slate-50 text-slate-500"}`,children:[(0,t.jsx)("span",{className:"block font-semibold",children:e.title}),(0,t.jsx)("span",{className:"text-xs",children:new Date(e.updatedAt).toLocaleString()})]},e.id))}),(0,t.jsxs)("div",{className:"mt-6 space-y-3",children:[(0,t.jsx)("label",{className:"text-xs uppercase text-slate-500",children:"Assistant Mode"}),(0,t.jsxs)("select",{name:"assistant-mode",id:"assistant-mode",value:eD,onChange:e=>eM(e.target.value),className:`w-full ${tt}`,children:[(0,t.jsx)("option",{value:"general",children:"General Q&A"}),(0,t.jsx)("option",{value:"listing",children:"Listing Assistant"})]})]})]}),(0,t.jsxs)("div",{className:"flex flex-col rounded-3xl border border-slate-100 bg-white p-6 shadow-sm",children:[(0,t.jsxs)("div",{className:"flex-1 space-y-4 overflow-y-auto pr-2",children:[0===ta.length&&(0,t.jsx)("p",{className:"text-center text-slate-500",children:"Start the conversation with IntelliWheels AI Assistant."}),ta.map(e=>(0,t.jsxs)("div",{className:`max-w-3xl rounded-2xl p-4 ${"user"===e.role?"ml-auto bg-sky-100 text-slate-900":"bg-slate-50 text-slate-600"}`,children:[(0,t.jsx)("p",{className:"text-xs uppercase text-slate-400",children:"user"===e.role?"You":"Assistant"}),(0,t.jsx)("p",{className:"mt-1 whitespace-pre-line text-sm",children:e.text}),e.listingData&&(0,t.jsxs)("div",{className:"mt-3 rounded-xl bg-white p-3 text-xs text-slate-500",children:[(0,t.jsx)("p",{className:"font-semibold text-slate-900",children:"Proposed Listing"}),Object.entries(e.listingData).map(([e,s])=>s?(0,t.jsxs)("p",{children:[j(e),": ",String(s)]},e):null)]})]},e.id))]}),(0,t.jsxs)("div",{className:"mt-4 space-y-3",children:[eR&&(0,t.jsxs)("div",{className:"flex items-center justify-between rounded-2xl bg-slate-50 p-3 text-sm text-slate-600",children:[(0,t.jsx)("span",{children:"Attached image"}),(0,t.jsx)("button",{onClick:()=>eO(null),className:"text-xs text-rose-500",children:"Remove"})]}),(0,t.jsx)("textarea",{name:"chat-input",id:"chat-input",value:e$,onChange:e=>eT(e.target.value),placeholder:"Ask about pricing, specs, or request a listing draft...",className:"min-h-[120px] w-full rounded-3xl border border-slate-200 bg-slate-50 p-4 text-slate-900 placeholder-slate-500"}),(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-3",children:[(0,t.jsxs)("label",{className:"cursor-pointer rounded-2xl border border-slate-200 px-4 py-2 text-sm font-semibold text-slate-900",children:["Attach Image",(0,t.jsx)("input",{name:"chat-attachment",id:"chat-attachment",type:"file",accept:"image/*",className:"hidden",onChange:async e=>{let t=e.target.files?.[0];if(!t)return;let s=await N(t);eO({preview:URL.createObjectURL(t),base64:s,mime:t.type})}})]}),(0,t.jsx)("button",{className:"flex-1 rounded-2xl bg-sky-600 py-3 text-center font-semibold text-white disabled:bg-sky-300",onClick:tw,disabled:eU,children:eU?"Thinking...":"Send"})]})]})]})]});case"analytics":return tn()?z?(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("div",{className:"flex flex-wrap items-center gap-3",children:["all","my","favorites"].map(e=>(0,t.jsx)("button",{onClick:()=>Z(e),className:`rounded-2xl px-4 py-2 text-sm font-semibold ${Q===e?"bg-sky-600 text-white":"border border-slate-200 bg-white text-slate-600"}`,children:j(e)},e))}),z.summary&&(0,t.jsxs)("div",{className:"grid gap-4 md:grid-cols-3",children:[(0,t.jsx)(v,{label:"Average Price",value:ti(z.summary.average_price,z.summary.currency)}),(0,t.jsx)(v,{label:"Cheapest",value:ti(z.summary.min_price,z.summary.currency)}),(0,t.jsx)(v,{label:"Most Expensive",value:ti(z.summary.max_price,z.summary.currency)})]}),z.market_top_makes&&(0,t.jsxs)("div",{className:"rounded-3xl border border-slate-100 bg-white p-5 shadow-sm",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-slate-900",children:"Top Makes"}),(0,t.jsx)("div",{className:"mt-4 space-y-3",children:z.market_top_makes.map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between rounded-2xl bg-slate-50 px-4 py-3 text-sm text-slate-600",children:[(0,t.jsx)("span",{className:"font-semibold text-slate-900",children:e.make}),(0,t.jsx)("span",{children:ti(e.avg_price,z.summary?.currency)}),(0,t.jsxs)("span",{children:[e.listings," listings"]})]},e.make))})]})]}):(0,t.jsx)("p",{className:"text-slate-500",children:"No analytics available yet. Create listings or favorites to unlock insights."}):null;default:return null}})()})}),(0,t.jsx)("footer",{className:`${e4} border-t ${e7}`,children:(0,t.jsxs)("div",{className:"mx-auto max-w-7xl px-4 py-8",children:[(0,t.jsxs)("div",{className:"flex flex-wrap items-start justify-between gap-6 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-lg font-semibold",children:"IntelliWheels"}),(0,t.jsx)("p",{className:`text-sm ${e9}`,children:eQ.tagline})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-semibold",children:eQ.footerSupport}),(0,t.jsxs)("p",{className:`text-sm ${e9}`,children:[eQ.footerEmail,": support@intelliwheels.ai"]}),(0,t.jsxs)("p",{className:`text-sm ${e9}`,children:[eQ.footerPhone,": +971 55 501 0101"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-semibold",children:eQ.footerContact}),(0,t.jsx)("p",{className:`text-sm ${e9}`,children:"Suite 14, Dubai Design District"}),(0,t.jsx)("p",{className:`text-sm ${e9}`,children:"hello@intelliwheels.ai"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-semibold",children:eQ.footerSocial}),(0,t.jsxs)("div",{className:"flex flex-col gap-1 text-sky-600",children:[(0,t.jsx)("a",{href:"https://www.instagram.com/intelliwheels",target:"_blank",rel:"noreferrer",children:eQ.footerInstagram}),(0,t.jsx)("a",{href:"https://x.com/IntelliWheels",target:"_blank",rel:"noreferrer",children:"X / Twitter"})]})]})]}),(0,t.jsxs)("p",{className:`mt-6 text-xs ${"dark"===eq?"text-slate-300/80":"text-slate-200/80"}`,children:["Â© ",tE," IntelliWheels. ",eQ.footerRights]})]})})]})}function v(e){let a,l,r,i=(0,s.c)(7),{label:n,value:o}=e;return i[0]!==n?(a=(0,t.jsx)("p",{className:"text-xs uppercase text-slate-400",children:n}),i[0]=n,i[1]=a):a=i[1],i[2]!==o?(l=(0,t.jsx)("p",{className:"mt-2 text-2xl font-semibold",children:o}),i[2]=o,i[3]=l):l=i[3],i[4]!==a||i[5]!==l?(r=(0,t.jsxs)("div",{className:"rounded-3xl border border-slate-100 bg-gradient-to-br from-white to-slate-50 p-5 text-slate-900 shadow-sm",children:[a,l]}),i[4]=a,i[5]=l,i[6]=r):r=i[6],r}function j(e){return e.replace(/([A-Z])/g," $1").replace(/_/g," ").replace(/^./,e=>e.toUpperCase())}function N(e){return new Promise((t,s)=>{let a=new FileReader;a.onload=()=>t(String(a.result)),a.onerror=s,a.readAsDataURL(e)})}function w(){let e,a=(0,s.c)(1);return a[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)(i.AuthProvider,{children:(0,t.jsx)(f,{})}),a[0]=e):e=a[0],e}e.s(["default",()=>w],52683)}]);