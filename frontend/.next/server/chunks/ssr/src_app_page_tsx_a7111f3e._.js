module.exports=[40777,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(19032),f=a.i(56025),g=a.i(2759),h=a.i(70781);let i=function(){let a={};for(let b of h.MOCK_CARS){let c=b.make?.trim(),d=b.model?.trim();if(!c||!d)continue;let e=c.toLowerCase();a[e]||(a[e]={name:c,models:{}});let f=d.toLowerCase();a[e].models[f]||(a[e].models[f]={name:d,engines:new Set});let g=b.specs?.engine||b.specs?.Engine||null;g&&a[e].models[f].engines.add(String(g))}return a}(),j=[{key:"listings",labelKey:"navCatalog",descriptionKey:"navCatalogDesc"},{key:"favorites",labelKey:"navFavorites",descriptionKey:"navFavoritesDesc"},{key:"dealers",labelKey:"navDealers",descriptionKey:"navDealersDesc"},{key:"myListings",labelKey:"navMyListings",descriptionKey:"navMyListingsDesc"},{key:"addListing",labelKey:"navAddListing",descriptionKey:"navAddListingDesc"},{key:"profile",labelKey:"navProfile",descriptionKey:"navProfileDesc"},{key:"chatbot",labelKey:"navChatbot",descriptionKey:"navChatbotDesc"},{key:"analytics",labelKey:"navAnalytics",descriptionKey:"navAnalyticsDesc"}],k=[{key:"marketplace",labelKey:"serviceMarketplace",descriptionKey:"serviceMarketplaceDesc",defaultPage:"listings"},{key:"dealer",labelKey:"serviceDealer",descriptionKey:"serviceDealerDesc",defaultPage:"myListings"},{key:"insights",labelKey:"serviceInsights",descriptionKey:"serviceInsightsDesc",defaultPage:"chatbot"}],l={marketplace:["listings","favorites","dealers","myListings","addListing","profile"],dealer:["listings","dealers","myListings","addListing","profile","analytics"],insights:["chatbot","analytics","listings","favorites","profile"]},m=[{value:"light",labelKey:"themeLight"},{value:"dark",labelKey:"themeDark"},{value:"system",labelKey:"themeSystem"}],n={en:{tagline:"Intelligent automotive marketplace",statusLabel:"Status",statusGuest:"Guest",statusAuthenticated:"Authenticated",selectorsCurrency:"Currency",selectorsLanguage:"Language",serviceLabel:"Workspace",serviceSubtitle:"Choose a capability focus",serviceCurrent:"Currently exploring",serviceMarketplace:"Marketplace",serviceMarketplaceDesc:"Live inventory & customers",serviceDealer:"Dealer Hub",serviceDealerDesc:"Manage listings & leads",serviceInsights:"AI Insights",serviceInsightsDesc:"Chat, analytics, vision",serviceMenuCta:"Switch workspace",navMenuLabel:"Browse sections",themeLabel:"Theme",themeLight:"Light",themeDark:"Dark",themeSystem:"System",settingsButton:"Settings",settingsTitle:"Workspace settings",settingsSubtitle:"Personalize your experience",settingsProfileCta:"Manage profile",settingsProfileGuest:"Sign in / Sign up",navCatalog:"Catalog",navCatalogDesc:"Explore the latest inventory",navFavorites:"Favorites",navFavoritesDesc:"Your saved picks",navDealers:"Dealers",navDealersDesc:"Meet verified sellers",navMyListings:"My Listings",navMyListingsDesc:"Manage your cars",navAddListing:"Add Listing",navAddListingDesc:"Create a new listing",navProfile:"Profile & Auth",navProfileDesc:"Account settings",navChatbot:"AI Assistant",navChatbotDesc:"Chat & vision tools",navAnalytics:"Analytics",navAnalyticsDesc:"Market intelligence",searchPlaceholder:"Search make, model, year",semanticPlaceholder:"e.g. Luxury hybrid SUV under 150k",dropPrompt:"Drag & drop or paste an image",dropHint:"JPG, PNG up to 10MB",priceAssistLabel:"AI Price Assist",uploadPhotoLabel:"Upload Photo",visionHelperLabel:"Vision Helper",galleryLabel:"Gallery",galleryHint:"Attach up to 6 showcase shots",galleryEmpty:"No gallery images yet.",galleryUploadLabel:"Upload images",galleryAddButton:"Add",galleryRemove:"Remove",videoLabel:"Video link",makeSelectLabel:"Choose make",modelSelectLabel:"Choose model",engineSelectLabel:"Choose engine",odometerLabel:"Odometer (km)",descriptionHeading:"Description",dealersHeading:"Featured dealer network",dealersSubheading:"Shop curated showrooms powered by IntelliWheels partners.",dealersEmpty:"No dealer partners are live yet.",dealersVisit:"View showroom",dealerMetaListings:"Listings",dealerMetaAverage:"Avg price",dealerMetaTopMakes:"Top makes",dealerInventoryTitle:"Available cars",dealerContactCta:"Contact dealer",settingsLabel:"Settings",settingsTheme:"Theme",settingsLanguage:"Language",settingsCurrency:"Currency",footerContact:"Contact",footerSupport:"Support",footerSocial:"Social",footerRights:"All rights reserved.",footerEmail:"Email us",footerPhone:"Call support",footerInstagram:"Instagram"},ar:{tagline:"Ù…Ù†ØµØ© Ø³ÙŠØ§Ø±Ø§Øª Ø°ÙƒÙŠØ©",statusLabel:"Ø§Ù„Ø­Ø§Ù„Ø©",statusGuest:"Ø²Ø§Ø¦Ø±",statusAuthenticated:"Ù…Ø³Ø¬Ù„",selectorsCurrency:"Ø§Ù„Ø¹Ù…Ù„Ø©",selectorsLanguage:"Ø§Ù„Ù„ØºØ©",serviceLabel:"Ø¨ÙŠØ¦Ø© Ø§Ù„Ø¹Ù…Ù„",serviceSubtitle:"Ø§Ø®ØªØ± Ù†Ù…Ø· Ø§Ù„Ø®Ø¯Ù…Ø© Ø§Ù„Ø£Ù†Ø³Ø¨",serviceCurrent:"Ø£Ù†Øª Ø§Ù„Ø¢Ù† ÙÙŠ",serviceMarketplace:"Ø§Ù„Ø³ÙˆÙ‚",serviceMarketplaceDesc:"Ø§Ù„Ù…Ø®Ø²ÙˆÙ† Ø§Ù„Ù…Ø¨Ø§Ø´Ø± ÙˆØ§Ù„Ø¹Ù…Ù„Ø§Ø¡",serviceDealer:"Ù…Ø±ÙƒØ² Ø§Ù„ÙˆÙƒÙ„Ø§Ø¡",serviceDealerDesc:"Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ø±ÙˆØ¶ ÙˆØ§Ù„Ø¹Ù…Ù„Ø§Ø¡ Ø§Ù„Ù…Ø­ØªÙ…Ù„ÙŠÙ†",serviceInsights:"Ø±Ø¤Ù‰ Ø§Ù„Ø°ÙƒØ§Ø¡",serviceInsightsDesc:"Ø§Ù„Ø¯Ø±Ø¯Ø´Ø© ÙˆØ§Ù„ØªØ­Ù„ÙŠÙ„Ø§Øª ÙˆØ§Ù„Ø±Ø¤ÙŠØ©",serviceMenuCta:"ØªØºÙŠÙŠØ± Ù…Ø³Ø§Ø­Ø© Ø§Ù„Ø¹Ù…Ù„",navMenuLabel:"ØªØµÙØ­ Ø§Ù„Ø£Ù‚Ø³Ø§Ù…",themeLabel:"Ø§Ù„ÙˆØ¶Ø¹",themeLight:"ÙØ§ØªØ­",themeDark:"Ø¯Ø§ÙƒÙ†",themeSystem:"Ø­Ø³Ø¨ Ø§Ù„Ù†Ø¸Ø§Ù…",settingsButton:"Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª",settingsTitle:"Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ù…Ø³Ø§Ø­Ø© Ø§Ù„Ø¹Ù…Ù„",settingsSubtitle:"Ø®ØµØµ ØªØ¬Ø±Ø¨ØªÙƒ",settingsProfileCta:"Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø­Ø³Ø§Ø¨",settingsProfileGuest:"ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ / Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨",navCatalog:"Ø§Ù„ÙƒØªØ§Ù„ÙˆØ¬",navCatalogDesc:"Ø§ÙƒØªØ´Ù Ø£Ø­Ø¯Ø« Ø§Ù„Ø³ÙŠØ§Ø±Ø§Øª",navFavorites:"Ø§Ù„Ù…ÙØ¶Ù„Ø©",navFavoritesDesc:"Ø³ÙŠØ§Ø±Ø§ØªÙƒ Ø§Ù„Ù…Ø®ØªØ§Ø±Ø©",navDealers:"Ø§Ù„ÙˆÙƒÙ„Ø§Ø¡",navDealersDesc:"ØªØ¹Ø±Ù Ø¹Ù„Ù‰ Ø´Ø±ÙƒØ§Ø¦Ù†Ø§ Ø§Ù„Ù…Ø¹ØªÙ…Ø¯ÙŠÙ†",navMyListings:"Ø³ÙŠØ§Ø±Ø§ØªÙŠ",navMyListingsDesc:"Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø³ÙŠØ§Ø±Ø§Øª Ø§Ù„Ù…Ø¹Ø±ÙˆØ¶Ø©",navAddListing:"Ø¥Ø¶Ø§ÙØ© Ø³ÙŠØ§Ø±Ø©",navAddListingDesc:"Ø¥Ù†Ø´Ø§Ø¡ Ø¹Ø±Ø¶ Ø¬Ø¯ÙŠØ¯",navProfile:"Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ",navProfileDesc:"Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø­Ø³Ø§Ø¨",navChatbot:"Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯ Ø§Ù„Ø°ÙƒÙŠ",navChatbotDesc:"Ø¯Ø±Ø¯Ø´Ø© ÙˆØ±Ø¤ÙŠØ© Ø¨Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ",navAnalytics:"Ø§Ù„ØªØ­Ù„ÙŠÙ„Ø§Øª",navAnalyticsDesc:"Ø±Ø¤Ù‰ Ø§Ù„Ø³ÙˆÙ‚",searchPlaceholder:"Ø§Ø¨Ø­Ø« Ø¹Ù† Ø§Ù„Ù…ÙˆØ¯ÙŠÙ„ Ø£Ùˆ Ø§Ù„Ø³Ù†Ø©",semanticPlaceholder:"Ù…Ø«Ø§Ù„: Ø³ÙŠØ§Ø±Ø© Ù‡Ø¬ÙŠÙ†Ø© ÙØ§Ø®Ø±Ø© Ø£Ù‚Ù„ Ù…Ù† 150 Ø£Ù„Ù",dropPrompt:"Ø§Ø³Ø­Ø¨ ÙˆØ£ÙÙ„Øª Ø£Ùˆ Ø§Ù„ØµÙ‚ ØµÙˆØ±Ø© Ù‡Ù†Ø§",dropHint:"ØµÙˆØ± â€ŽJPG, PNGâ€Ž Ø­ØªÙ‰ 10 Ù…ÙŠØºØ§Ø¨Ø§ÙŠØª",priceAssistLabel:"Ù…Ø³Ø§Ø¹Ø¯ Ø§Ù„ØªØ³Ø¹ÙŠØ± Ø¨Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ",uploadPhotoLabel:"ØªØ­Ù…ÙŠÙ„ ØµÙˆØ±Ø©",visionHelperLabel:"Ù…Ø³Ø§Ø¹Ø¯ Ø§Ù„Ø±Ø¤ÙŠØ©",galleryLabel:"Ù…Ø¹Ø±Ø¶ Ø§Ù„ØµÙˆØ±",galleryHint:"Ø£Ø¶Ù Ø­ØªÙ‰ Ù¦ ØµÙˆØ± Ù…Ù…ÙŠØ²Ø©",galleryEmpty:"Ù„Ø§ ØªÙˆØ¬Ø¯ ØµÙˆØ± Ø¨Ø¹Ø¯.",galleryUploadLabel:"Ø±ÙØ¹ Ø§Ù„ØµÙˆØ±",galleryAddButton:"Ø¥Ø¶Ø§ÙØ©",galleryRemove:"Ø¥Ø²Ø§Ù„Ø©",videoLabel:"Ø±Ø§Ø¨Ø· Ø§Ù„ÙÙŠØ¯ÙŠÙˆ",makeSelectLabel:"Ø§Ø®ØªØ± Ø§Ù„Ø´Ø±ÙƒØ©",modelSelectLabel:"Ø§Ø®ØªØ± Ø§Ù„Ù…ÙˆØ¯ÙŠÙ„",engineSelectLabel:"Ø§Ø®ØªØ± Ø§Ù„Ù…Ø­Ø±Ùƒ",odometerLabel:"Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„Ø¹Ø¯Ø§Ø¯ (ÙƒÙ…)",descriptionHeading:"Ø§Ù„ÙˆØµÙ",dealersHeading:"Ø´Ø¨ÙƒØ© Ø§Ù„ÙˆÙƒÙ„Ø§Ø¡ Ø§Ù„Ù…Ù…ÙŠØ²ÙŠÙ†",dealersSubheading:"Ø§Ø³ØªÙƒØ´Ù ØµØ§Ù„Ø§Øª Ø§Ù„Ø¹Ø±Ø¶ Ø§Ù„Ù…Ø®ØªØ§Ø±Ø© Ù…Ù† Ø´Ø±ÙƒØ§Ø¡ IntelliWheels.",dealersEmpty:"Ù„Ø§ ÙŠÙˆØ¬Ø¯ ÙˆÙƒÙ„Ø§Ø¡ Ù†Ø´Ø·ÙˆÙ† Ø­Ø§Ù„ÙŠØ§Ù‹.",dealersVisit:"Ø¹Ø±Ø¶ Ø§Ù„ØµØ§Ù„Ø©",dealerMetaListings:"Ø§Ù„Ø¹Ø±ÙˆØ¶",dealerMetaAverage:"Ù…ØªÙˆØ³Ø· Ø§Ù„Ø³Ø¹Ø±",dealerMetaTopMakes:"Ø£Ø¨Ø±Ø² Ø§Ù„Ø¹Ù„Ø§Ù…Ø§Øª",dealerInventoryTitle:"Ø§Ù„Ø³ÙŠØ§Ø±Ø§Øª Ø§Ù„Ù…ØªØ§Ø­Ø©",dealerContactCta:"ØªÙˆØ§ØµÙ„ Ù…Ø¹ Ø§Ù„ÙˆÙƒÙŠÙ„",settingsLabel:"Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª",settingsTheme:"Ø§Ù„Ù…Ø¸Ù‡Ø±",settingsLanguage:"Ø§Ù„Ù„ØºØ©",settingsCurrency:"Ø§Ù„Ø¹Ù…Ù„Ø©",footerContact:"ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§",footerSupport:"Ø§Ù„Ø¯Ø¹Ù…",footerSocial:"ÙˆØ³Ø§Ø¦Ù„ Ø§Ù„ØªÙˆØ§ØµÙ„",footerRights:"Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø©.",footerEmail:"Ø±Ø§Ø³Ù„Ù†Ø§",footerPhone:"Ø§ØªØµÙ„ Ø¨Ø§Ù„Ø¯Ø¹Ù…",footerInstagram:"Ø¥Ù†Ø³ØªØºØ±Ø§Ù…"}},o=[{value:"en",label:"English"},{value:"ar",label:"Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©"}],p=["AED","USD","EUR","GBP","SAR","QAR","BHD","KWD","OMR","JOD"],q={JOD:1,AED:.19,USD:.71,EUR:.65,GBP:.56,SAR:.19,QAR:.19,BHD:.53,KWD:.43,OMR:2.15},r={make:"all",search:"",sort:"default"};function s(){let{user:a,token:h,loading:s,login:w,signup:x,logout:y,updateMyProfile:z,refreshProfile:A,error:B,clearError:C}=(0,f.useAuth)(),[D,E]=(0,c.useState)("listings"),[F,G]=(0,c.useState)("marketplace"),[H,I]=(0,c.useState)("light"),[J,K]=(0,c.useState)(r),[L,M]=(0,c.useState)([]),[N,O]=(0,c.useState)([]),[P,Q]=(0,c.useState)([]),[R,S]=(0,c.useState)(!1),[T,U]=(0,c.useState)([]),[V,W]=(0,c.useState)([]),[X,Y]=(0,c.useState)(null),[Z,$]=(0,c.useState)("all"),[_,aa]=(0,c.useState)(""),[ab,ac]=(0,c.useState)([]),[ad,ae]=(0,c.useState)(!1),[af,ag]=(0,c.useState)(null),[ah,ai]=(0,c.useState)(!1),[aj,ak]=(0,c.useState)(!1),[al,am]=(0,c.useState)(!1),[an,ao]=(0,c.useState)(!1),[ap,aq]=(0,c.useState)({make:"",model:"",year:"",price:"",currency:"AED",bodyStyle:"",horsepower:"",engine:"",fuelEconomy:"",odometer:"",image:"",galleryImages:[],videoUrl:"",description:""}),[ar,as]=(0,c.useState)("JOD"),[at,au]=(0,c.useState)("en"),[av,aw]=(0,c.useState)(!1),[ax,ay]=(0,c.useState)(null),[az,aA]=(0,c.useState)(null),[aB,aC]=(0,c.useState)(!1),[aD,aE]=(0,c.useState)("general"),[aF,aG]=(0,c.useState)([]),[aH,aI]=(0,c.useState)(null),[aJ,aK]=(0,c.useState)(""),[aL,aM]=(0,c.useState)(!1),[aN,aO]=(0,c.useState)(null),[aP,aQ]=(0,c.useState)(1),[aR,aS]=(0,c.useState)(""),aT=(0,c.useRef)(null),aU=(0,c.useRef)(null),aV=(0,c.useRef)(null),aW="system"===H?"light":H,aX=k.find(a=>a.key===F)??k[0],aY=(0,d.useRouter)(),aZ=n[at],a$=(0,c.useMemo)(()=>"http://localhost:5000/api".replace(/\/api$/,""),[]),a_=(0,c.useMemo)(()=>Object.values(i).map(a=>a.name).sort((a,b)=>a.localeCompare(b)),[]),a0=(0,c.useMemo)(()=>ap.make?function(a){if(!a)return[];let b=i[a.toLowerCase()];return b?Object.values(b.models).map(a=>a.name).sort((a,b)=>a.localeCompare(b)):[]}(ap.make):[],[ap.make]),a1=(0,c.useMemo)(()=>ap.make&&ap.model?function(a,b){if(!a||!b)return[];let c=i[a.toLowerCase()];if(!c)return[];let d=c.models[b.toLowerCase()];return d?Array.from(d.engines.values()).sort((a,b)=>a.localeCompare(b)):[]}(ap.make,ap.model):[],[ap.make,ap.model]),a2=(0,c.useMemo)(()=>!ap.make||a_.includes(ap.make)?a_:[...a_,ap.make],[ap.make,a_]),a3=(0,c.useMemo)(()=>!ap.model||a0.includes(ap.model)?a0:[...a0,ap.model],[ap.model,a0]),a4=(0,c.useMemo)(()=>!ap.engine||a1.includes(ap.engine)?a1:[...a1,ap.engine],[a1,ap.engine]),a5="dark"===aW?"bg-[#06122A] text-slate-100":"bg-gradient-to-r from-sky-900 via-slate-900 to-slate-800 text-white",a6="dark"===aW?"text-slate-200/90":"text-slate-100/80",a7=h?"border border-emerald-400/40 bg-emerald-500/10 text-emerald-300":"dark"===aW?"border border-blue-500/30 bg-blue-900/40 text-blue-200":"border border-slate-200 bg-white/20 text-white",a8="dark"===aW?"border-blue-900/30":"border-sky-900/40";(0,c.useMemo)(()=>{let a=new Set(l[F]??j.map(a=>a.key));return j.filter(b=>a.has(b.key)).map(a=>({key:a.key,label:aZ[a.labelKey],description:aZ[a.descriptionKey]}))},[at,F]);let a9=(0,c.useCallback)(a=>{aY.push(`/cars/${a}`)},[aY]),ba=(0,c.useCallback)(a=>{aY.push(`/dealers/${a}`)},[aY]),bb="rounded-2xl border border-slate-200 bg-slate-50 p-3 text-slate-900 placeholder-slate-400 focus:border-sky-500 focus:outline-none",bc=(0,c.useMemo)(()=>aF.find(a=>a.id===aH)??null,[aF,aH]),bd=bc?.messages??[];(0,c.useEffect)(()=>{},[]),(0,c.useEffect)(()=>{},[]),(0,c.useEffect)(()=>{},[]),(0,c.useEffect)(()=>{!aH&&aF.length&&aI(aF[0].id)},[aF,aH]),(0,c.useEffect)(()=>{},[H]),(0,c.useEffect)(()=>{},[F]),(0,c.useEffect)(()=>{let a=l[F]??j.map(a=>a.key);a.includes(D)||"addListing"===D||"profile"===D||E(a[0]??"listings")},[F,D]),(0,c.useEffect)(()=>{function a(a){let b=a.target;ah&&aT.current&&!aT.current.contains(b)&&ai(!1),aj&&aU.current&&!aU.current.contains(b)&&ak(!1),al&&aV.current&&!aV.current.contains(b)&&am(!1)}return document.addEventListener("mousedown",a),()=>document.removeEventListener("mousedown",a)},[ah,aj,al]),(0,c.useEffect)(()=>{function a(a){"Escape"===a.key&&(ai(!1),ak(!1),am(!1))}return window.addEventListener("keydown",a),()=>window.removeEventListener("keydown",a)},[]);let be=(0,c.useCallback)(a=>a?a.startsWith("http")||a.startsWith("data:")||!a$?a:`${a$}${a.startsWith("/")?a:`/${a}`}`:"/placeholder-car.svg",[a$]),bf=(0,c.useCallback)(a=>{if(a.image)return be(a.image);if(a.galleryImages?.length)return be(a.galleryImages[0]);let b=a.mediaGallery?.find(a=>"image"===a.type&&a.url)?.url;return b?be(b):a.imageUrls?.length?be(a.imageUrls[0]):"/placeholder-car.svg"},[be]),bg=(0,c.useCallback)((a,b="AED")=>null==a?"TBD":function(a,b="AED"){if(!a&&0!==a)return"TBD";try{return new Intl.NumberFormat("en-US",{style:"currency",currency:b,maximumFractionDigits:0}).format(a)}catch(c){return`${a?.toLocaleString()??"TBD"} ${b}`}}(function(a,b="AED",c="AED"){return null==a?null:b===c?a:a*(q[b]??1)/(q[c]??1)}(a,b,ar)??a,ar),[ar]),bh=(0,c.useCallback)(()=>!!h||(ag({type:"info",message:"Please sign in to access this feature."}),E("profile"),!1),[h]),bi=(0,c.useCallback)((a,b="success")=>{ag({message:a,type:b}),setTimeout(()=>ag(null),4e3)},[]);(0,c.useEffect)(()=>{let a=new AbortController;return async function(){try{let b=await (0,e.fetchCars)(J,a.signal,h);b.success&&M(b.cars||[])}catch(a){console.error("Failed to load cars",a),"string"==typeof a?.message&&a.message.toLowerCase().includes("auth")}}(),()=>a.abort()},[J,h,bh]),(0,c.useEffect)(()=>{!async function(){try{let a=await (0,e.fetchMakes)(h);if(a.success){let b=Array.from(new Set(["all",...a.makes||[]]));O(b)}}catch(a){console.warn("Failed to load makes",a),"string"==typeof a?.message&&a.message.toLowerCase().includes("auth")&&bh()}}()},[h,bh]),(0,c.useEffect)(()=>{if(!h){U([]),W([]);return}!async function(){try{let[a,b]=await Promise.all([(0,e.fetchFavorites)(h),(0,e.fetchMyListings)(h)]);a.success&&U((a.cars||[]).map(a=>a.id)),b.success&&W(b.cars||[])}catch(a){console.warn("Failed to load protected data",a)}}()},[h]),(0,c.useEffect)(()=>{h?async function(){try{let a=await (0,e.getAnalytics)(Z,h);a.success&&Y(a.insights)}catch(a){console.warn("Failed to load analytics",a)}}():Y(null)},[h,Z]),(0,c.useEffect)(()=>{if(!h){Q([]),S(!1);return}let a=!1;return async function(){S(!0);try{let b=await (0,e.fetchDealers)(h);!a&&b.success&&Q(b.dealers||[])}catch(b){a||console.warn("Failed to load dealers",b)}finally{a||S(!1)}}(),()=>{a=!0}},[h]),(0,c.useEffect)(()=>{},[aF]);let bj=(0,c.useCallback)((a,b)=>{aG(c=>c.map(c=>c.id===a?{...c,messages:b.slice(-g.CHAT_HISTORY_LIMIT),updatedAt:new Date().toISOString(),title:"New Chat"===c.title&&b.length?b.find(a=>"user"===a.role)?.text.slice(0,60)||"Chat":c.title}:c).sort((a,b)=>a.updatedAt<b.updatedAt?1:-1))},[]),bk=(0,c.useCallback)(()=>{let a={id:`session-${Date.now()}`,title:"New Chat",messages:[],updatedAt:new Date().toISOString()};return aG(b=>[a,...b]),aI(a.id),a.id},[]),bl=(0,c.useCallback)(()=>aH||bk(),[aH,bk]),bm=(0,c.useCallback)(async a=>{if(!bh())return;let b=T.includes(a.id);U(c=>b?c.filter(b=>b!==a.id):[...c,a.id]);try{b?(await (0,e.removeFavorite)(a.id,h),bi("Removed from favorites","info")):(await (0,e.addFavorite)(a.id,h),bi("Added to favorites"))}catch(c){bi("Unable to update favorites","error"),U(c=>b?[...c,a.id]:c.filter(b=>b!==a.id))}},[T,bh,h,bi]),bn=(a,b)=>{aq(c=>({...c,[a]:b}))},bo=async a=>{if(bh()){aC(!0);try{let c=await v(a),d=await (0,e.analyzeListingImage)({image_base64:c,mime_type:a.type},h);if(d.success){var b;aA({...d.attributes,raw:d.raw}),b=d.attributes,aq(a=>({...a,make:b.make||a.make,model:b.model||a.model,year:b.year?String(b.year):a.year,bodyStyle:b.bodyStyle||a.bodyStyle,price:b.estimatedPrice?String(b.estimatedPrice):a.price,description:b.conditionDescription||a.description})),bi("Vision helper filled the form")}else{let a=d.error;bi(a||"Vision helper failed","error")}}catch(a){bi(a.message||"Vision helper failed","error")}finally{aC(!1)}}},bp=(0,c.useCallback)(async a=>{let b=await (0,e.uploadListingImage)(a,h);if(b.success&&b.url)return b.url;throw Error(b.error||"Upload failed")},[h]),bq=async a=>{if(bh())try{let b=await bp(a);bn("image",b),bi("Image uploaded")}catch(a){bi(a.message||"Upload failed","error")}},br=async a=>{if(bh()&&a&&0!==a.length)try{let b=Array.from(a).slice(0,6),c=[];for(let a of b){let b=await bp(a);c.push(b)}if(!c.length)return;aq(a=>{let b=[...a.galleryImages,...c],d=a.image||b[0]||"";return{...a,galleryImages:b,image:d}}),bi("Gallery updated")}catch(a){bi(a.message||"Gallery upload failed","error")}},bs=()=>{let a=aR.trim();a&&(aq(b=>{if(b.galleryImages.includes(a))return b;let c=[...b.galleryImages,a];return{...b,galleryImages:c,image:b.image||c[0]||""}}),aS(""))},bt=async()=>{if(!bh())return;if(!ap.make||!ap.model||!ap.year)return void bi("Add make, model, and year first","info");let a={make:ap.make,model:ap.model,year:Number(ap.year),bodyStyle:ap.bodyStyle||void 0,horsepower:ap.horsepower?Number(ap.horsepower):void 0,currency:ap.currency};try{let b=await (0,e.getPriceEstimate)(a,h);if(b.success)ay({value:Math.round(b.estimate),currency:b.currency,range:b.range}),bn("price",String(Math.round(b.estimate)));else{let a=b.error;bi(a||"Unable to generate estimate","error")}}catch(a){bi(a.message||"Unable to generate estimate","error")}},bu=async a=>{if(a.preventDefault(),bh()){ao(!0);try{let a=ap.galleryImages.filter(a=>!!a?.trim()),b=a.length?a:ap.image?[ap.image]:[],c=ap.videoUrl.trim(),d=[...b.map(a=>({type:"image",url:a})),...c?[{type:"video",url:c}]:[]],f={make:ap.make,model:ap.model,year:ap.year?Number(ap.year):void 0,price:ap.price?Number(ap.price):void 0,currency:ap.currency,odometerKm:ap.odometer?Number(ap.odometer):void 0,image:ap.image||b[0],galleryImages:b,mediaGallery:d,videoUrl:c||void 0,description:ap.description,specs:{bodyStyle:ap.bodyStyle,horsepower:ap.horsepower?Number(ap.horsepower):void 0,engine:ap.engine,fuelEconomy:ap.fuelEconomy}},g=await (0,e.createListing)(f,h);if(g.success){bi("Listing created successfully"),aq({make:"",model:"",year:"",price:"",currency:ap.currency,bodyStyle:"",horsepower:"",engine:"",fuelEconomy:"",odometer:"",image:"",galleryImages:[],videoUrl:"",description:""}),aS(""),ay(null),aA(null);let a=await (0,e.fetchMyListings)(h);a.success&&W(a.cars||[])}else bi(g.error||"Could not create listing","error")}catch(a){bi(a.message||"Could not create listing","error")}finally{ao(!1)}}},bv=async a=>{if(bh())try{await (0,e.deleteListing)(a,h),W(b=>b.filter(b=>b.id!==a)),bi("Listing removed","info")}catch(a){bi(a.message||"Unable to delete listing","error")}},bw=async a=>{if(a.preventDefault(),bh()){if(!_.trim())return void ac([]);ae(!0);try{let a=await (0,e.semanticSearch)(_.trim(),6,h);a.success&&ac(a.results?.map(a=>a.car)||[])}catch(a){bi("Semantic search failed","error")}finally{ae(!1)}}},bx=async()=>{if(!bh())return;let a=aJ.trim();if(!a&&!aN)return;let b=bl();b||(b=bk());let c=new Date().toISOString(),d=[...bd,{id:`user-${c}`,role:"user",text:a||"[Attachment] Please analyze the uploaded image.",timestamp:c,attachmentUrl:aN?.preview}].slice(-g.CHAT_HISTORY_LIMIT);bj(b,d),aK(""),aO(null),aM(!0);try{let c=d.filter(a=>"user"===a.role||"assistant"===a.role).map(a=>({role:"user"===a.role?"user":"bot",text:a.text})),f="listing"===aD?await (0,e.handleListingAssistantMessage)({query:a,history:c},h):await (0,e.handleChatbotMessage)({query:a,history:c,imageBase64:aN?.base64,imageMimeType:aN?.mime},h),g={id:`assistant-${Date.now()}`,role:"assistant",text:f.response,timestamp:new Date().toISOString(),relevantCarIds:f.relevant_car_ids||[],listingData:f.listing_data||null,actionType:f.action_type||null};bj(b,[...d,g])}catch(a){bi(a.message||"Assistant failed to respond","error")}finally{aM(!1)}},by=(0,c.useMemo)(()=>L.filter(a=>("all"===J.make||a.make===J.make)&&(!J.search||!!`${a.make} ${a.model} ${a.year}`.toLowerCase().includes(J.search.toLowerCase()))&&!0),[L,J]),bz=(0,c.useMemo)(()=>{let a=[...by];switch(J.sort){case"price-asc":return a.sort((a,b)=>(a.price||0)-(b.price||0));case"price-desc":return a.sort((a,b)=>(b.price||0)-(a.price||0));case"rating-desc":return a.sort((a,b)=>(b.rating||0)-(a.rating||0));case"year-desc":return a.sort((a,b)=>(b.year||0)-(a.year||0));default:return a}},[by,J.sort]),bA=(0,c.useMemo)(()=>Math.max(1,Math.ceil(bz.length/9)),[bz.length]);(0,c.useEffect)(()=>{aQ(1)},[J.make,J.search,J.sort]),(0,c.useEffect)(()=>{aP>bA&&aQ(bA)},[aP,bA]);let bB=(0,c.useMemo)(()=>{let a=(aP-1)*9;return bz.slice(a,a+9)},[aP,bz]),bC=(0,c.useMemo)(()=>{if(bA<=5)return Array.from({length:bA},(a,b)=>b+1);let a=Math.max(1,aP-2),b=Math.min(bA,a+4);return a=Math.max(1,b-4),Array.from({length:b-a+1},(b,c)=>a+c)},[aP,bA]),bD=(0,c.useCallback)(a=>{aQ(Math.min(Math.max(a,1),bA))},[bA]),bE=a=>(0,b.jsxs)("div",{className:"flex flex-col rounded-3xl border border-slate-100 bg-white/90 p-4 shadow-lg transition hover:-translate-y-1 hover:shadow-xl",children:[(0,b.jsxs)("div",{className:"relative overflow-hidden rounded-2xl bg-slate-100",children:[(0,b.jsx)("img",{src:bf(a),alt:`${a.make} ${a.model}`,loading:"lazy",onError:a=>{let b=a.currentTarget;b.src.includes("placeholder-car.svg")||(b.src="/placeholder-car.svg")},className:"h-48 w-full object-cover"}),(0,b.jsx)("button",{onClick:()=>bm(a),className:`absolute right-3 top-3 rounded-full px-3 py-1 text-xs font-semibold ${T.includes(a.id)?"bg-rose-500 text-white":"bg-white/90 text-slate-900"}`,children:T.includes(a.id)?"Favorited":"Favorite"})]}),(0,b.jsxs)("div",{className:"mt-4 flex items-start justify-between gap-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("h3",{className:"text-lg font-semibold text-slate-900",children:[a.make," ",a.model]}),(0,b.jsx)("p",{className:"text-sm text-slate-500",children:a.year||"Year TBD"})]}),(0,b.jsx)("div",{className:"text-right text-2xl font-bold text-emerald-600",children:bg(a.price,a.currency)})]}),a.specs?.bodyStyle&&(0,b.jsx)("p",{className:"text-sm text-slate-600",children:a.specs.bodyStyle}),(0,b.jsxs)("div",{className:"mt-4 flex flex-wrap gap-2 text-xs text-slate-500",children:[a.rating?(0,b.jsxs)("span",{children:["â­ ",a.rating.toFixed(1)]}):null,a.reviews?(0,b.jsxs)("span",{children:[a.reviews," reviews"]}):null,a.galleryImages?.length?(0,b.jsxs)("span",{children:[a.galleryImages.length," photos"]}):null,a.videoUrl?(0,b.jsx)("span",{children:"ðŸŽ¥ Video"}):null,a.odometerKm?(0,b.jsxs)("span",{children:[a.odometerKm.toLocaleString()," km"]}):null]}),a.description&&(0,b.jsx)("p",{className:"mt-3 line-clamp-3 text-sm text-slate-600",children:a.description}),(0,b.jsx)("button",{className:"mt-4 w-full rounded-xl bg-sky-600 py-2 text-sm font-semibold text-white hover:bg-sky-700",onClick:()=>a9(a.id),children:"View Details"})]},a.id);aZ[aX.labelKey],aZ[aX.descriptionKey];let bF=new Date().getFullYear();return(0,b.jsxs)("div",{className:`${"dark"===aW?"bg-gradient-to-b from-slate-950 via-slate-900 to-slate-950 text-slate-100":"bg-gradient-to-br from-slate-50 via-white to-sky-50 text-slate-900"} min-h-screen`,dir:"ar"===at?"rtl":"ltr",children:[(()=>{if(!af)return null;let a="error"===af.type?"bg-red-500/90":"info"===af.type?"bg-blue-500/90":"bg-emerald-500/90";return(0,b.jsx)("div",{className:`fixed top-6 right-6 z-50 rounded-xl px-4 py-3 text-white shadow-xl ${a}`,children:af.message})})(),(0,b.jsxs)("header",{className:`sticky top-0 z-50 border-b backdrop-blur-md transition-colors duration-300 ${a5} ${a8}`,children:[(0,b.jsxs)("div",{className:"mx-auto flex h-20 max-w-7xl items-center justify-between px-4 sm:px-6 lg:px-8",children:[(0,b.jsxs)("div",{className:"flex items-center gap-8",children:[(0,b.jsx)("div",{className:"group flex cursor-pointer items-center gap-3",onClick:()=>E("listings"),children:(0,b.jsx)("img",{src:"/intellliwheels_logo_concept_dynamic.png",alt:"IntelliWheels",className:"h-16 w-auto object-contain transition-transform group-hover:scale-105"})}),(0,b.jsx)("nav",{className:"hidden items-center gap-1 md:flex",children:[{key:"listings",label:aZ.navCatalog},{key:"dealers",label:aZ.navDealers},{key:"addListing",label:aZ.navAddListing},{key:"chatbot",label:aZ.navChatbot},{key:"analytics",label:aZ.navAnalytics}].map(a=>(0,b.jsx)("button",{onClick:()=>E(a.key),className:`rounded-xl px-4 py-2 text-sm font-semibold transition-all ${D===a.key?"bg-slate-100/10 text-indigo-500 shadow-sm ring-1 ring-inset ring-slate-200/10 dark:text-indigo-400":"text-slate-500 hover:bg-slate-100/5 hover:text-slate-900 dark:text-slate-400 dark:hover:text-slate-200"}`,children:a.label},a.key))})]}),(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("div",{className:`hidden h-8 w-px md:block ${"dark"===aW?"bg-slate-800":"bg-slate-200"}`}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("button",{className:"hidden rounded-full p-2 text-slate-500 transition hover:bg-slate-100 dark:hover:bg-slate-800 sm:block",children:(0,b.jsx)("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"})})}),(0,b.jsxs)("div",{className:"relative",ref:aV,children:[(0,b.jsxs)("button",{onClick:()=>am(!al),className:`flex items-center gap-2 rounded-full border p-1 pr-4 transition-all hover:shadow-md ${a7}`,children:[(0,b.jsx)("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-slate-900 text-xs font-bold text-white dark:bg-white dark:text-slate-900",children:a?.username?.[0]?.toUpperCase()||"G"}),(0,b.jsx)("span",{className:"text-xs font-bold",children:a?a.username:aZ.statusGuest}),(0,b.jsx)("span",{className:"text-xs opacity-50",children:"â–¼"})]}),al&&(0,b.jsxs)("div",{className:"absolute right-0 top-full mt-4 w-72 origin-top-right overflow-hidden rounded-3xl border border-slate-100 bg-white shadow-2xl ring-1 ring-black/5 dark:border-slate-800 dark:bg-slate-900",children:[(0,b.jsxs)("div",{className:"bg-slate-50 px-6 py-4 dark:bg-slate-800/50",children:[(0,b.jsx)("p",{className:"text-xs font-bold uppercase tracking-wider text-slate-500",children:aZ.settingsTitle}),(0,b.jsx)("p",{className:"text-sm text-slate-400",children:aZ.settingsSubtitle})]}),(0,b.jsxs)("div",{className:"p-2",children:[(0,b.jsxs)("button",{onClick:()=>{E("profile"),am(!1)},className:"flex w-full items-center gap-3 rounded-2xl p-3 text-left hover:bg-slate-50 dark:hover:bg-slate-800",children:[(0,b.jsx)("span",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-indigo-50 text-xl dark:bg-indigo-900/30",children:"ðŸ‘¤"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:`font-semibold text-sm ${"dark"===aW?"text-slate-200":"text-slate-900"}`,children:a?aZ.settingsProfileCta:aZ.settingsProfileGuest}),(0,b.jsx)("p",{className:"text-xs text-slate-500",children:a?.email||"Manage account"})]})]}),(0,b.jsx)("div",{className:"my-2 h-px bg-slate-100 dark:bg-slate-800"}),(0,b.jsx)("div",{className:"my-2 h-px bg-slate-100 dark:bg-slate-800"}),(0,b.jsxs)("div",{className:"space-y-4 px-3 py-2",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"mb-1 block text-xs font-bold text-slate-500",children:aZ.settingsLanguage}),(0,b.jsx)("div",{className:"grid grid-cols-2 gap-2",children:o.map(a=>(0,b.jsx)("button",{onClick:()=>au(a.value),className:`rounded-lg py-1.5 text-xs font-semibold transition ${at===a.value?"bg-slate-900 text-white dark:bg-white dark:text-slate-900":"bg-slate-100 text-slate-600 hover:bg-slate-200 dark:bg-slate-800 dark:text-slate-400"}`,children:a.label},a.value))})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"mb-1 block text-xs font-bold text-slate-500",children:aZ.settingsCurrency}),(0,b.jsx)("select",{value:ar,onChange:a=>as(a.target.value),className:"w-full appearance-none rounded-xl border-slate-200 bg-slate-50 px-3 py-2 text-xs font-semibold text-slate-700 outline-none focus:ring-2 focus:ring-indigo-500 dark:border-slate-700 dark:bg-slate-800 dark:text-slate-300",children:p.map(a=>(0,b.jsx)("option",{value:a,children:a},a))})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"mb-1 text-xs font-bold text-slate-500",children:aZ.themeLabel}),(0,b.jsx)("div",{className:"grid grid-cols-3 gap-2",children:m.map(a=>(0,b.jsx)("button",{onClick:()=>I(a.value),className:`rounded-lg py-2 text-xs font-semibold transition ${H===a.value?"bg-indigo-600 text-white shadow-lg shadow-indigo-500/30":"bg-slate-100 text-slate-600 hover:bg-slate-200 dark:bg-slate-800 dark:text-slate-400"}`,children:aZ[a.labelKey]},a.value))})]}),(0,b.jsx)("div",{className:"mt-2",children:a?(0,b.jsx)("button",{onClick:()=>{y(),am(!1)},className:"w-full rounded-xl border border-slate-200 py-2.5 text-center text-sm font-bold text-rose-600 hover:bg-rose-50 dark:border-slate-700 dark:hover:bg-rose-900/20",children:"Sign Out"}):(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-2 p-1",children:[(0,b.jsx)("button",{onClick:()=>{E("profile"),am(!1)},className:"rounded-xl border border-slate-200 py-2.5 text-sm font-bold text-slate-700 hover:bg-slate-50",children:"Sign In"}),(0,b.jsx)("button",{onClick:()=>{E("profile"),am(!1)},className:"rounded-xl bg-slate-900 py-2.5 text-sm font-bold text-white hover:bg-slate-800",children:"Sign Up"})]})})]})]})]})]}),(0,b.jsx)("button",{className:"flex h-10 w-10 items-center justify-center rounded-full border border-slate-200 text-slate-600 md:hidden dark:border-slate-700 dark:text-slate-300",onClick:()=>ak(!aj),children:"â˜°"})]})]})]}),aj&&(0,b.jsx)("div",{className:"border-t border-slate-100 bg-white/95 px-4 py-4 backdrop-blur-xl dark:border-slate-800 dark:bg-slate-900/95 md:hidden",children:(0,b.jsx)("div",{className:"space-y-1",children:[{key:"listings",label:aZ.navCatalog},{key:"dealers",label:aZ.navDealers},{key:"chatbot",label:aZ.navChatbot},{key:"analytics",label:aZ.navAnalytics},{key:"profile",label:aZ.navProfile}].map(a=>(0,b.jsx)("button",{onClick:()=>{E(a.key),ak(!1)},className:`block w-full rounded-xl px-4 py-3 text-left font-semibold ${D===a.key?"bg-indigo-50 text-indigo-600 dark:bg-indigo-900/20 dark:text-indigo-400":"text-slate-600 hover:bg-slate-50 dark:text-slate-300"}`,children:a.label},a.key))})})]}),(0,b.jsx)("div",{className:"mx-auto max-w-7xl space-y-8 px-4 py-10",children:(0,b.jsx)("main",{className:`rounded-3xl ${"dark"===aW?"border-slate-800 bg-slate-900/80 text-slate-100":"border-slate-100 bg-white/90 text-slate-900"} p-6 shadow-lg`,children:s?(0,b.jsx)("p",{className:"text-center text-slate-500",children:"Loading account..."}):(()=>{switch(D){case"listings":return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"grid gap-4 lg:grid-cols-[2fr,1fr]",children:[(0,b.jsx)("div",{className:"rounded-3xl border border-slate-100 bg-white p-4 shadow-sm",children:(0,b.jsxs)("div",{className:"grid gap-4 md:grid-cols-3",children:[(0,b.jsx)("select",{value:J.make,name:"filter-make",id:"filter-make",onChange:a=>K(b=>({...b,make:a.target.value})),className:bb,children:N.map(a=>(0,b.jsx)("option",{value:a,children:u(a)},a))}),(0,b.jsx)("input",{name:"filter-search",id:"filter-search",value:J.search,onChange:a=>K(b=>({...b,search:a.target.value})),placeholder:"Search make, model, year",className:bb}),(0,b.jsxs)("select",{value:J.sort,name:"filter-sort",id:"filter-sort",onChange:a=>K(b=>({...b,sort:a.target.value})),className:bb,children:[(0,b.jsx)("option",{value:"default",children:"Recommended"}),(0,b.jsx)("option",{value:"price-asc",children:"Price: Low â†’ High"}),(0,b.jsx)("option",{value:"price-desc",children:"Price: High â†’ Low"}),(0,b.jsx)("option",{value:"year-desc",children:"Newer first"}),(0,b.jsx)("option",{value:"rating-desc",children:"Top rated"})]})]})}),(0,b.jsxs)("form",{onSubmit:bw,className:"rounded-3xl border border-slate-100 bg-white p-4 shadow-sm",children:[(0,b.jsx)("p",{className:"text-sm font-semibold text-slate-900",children:"AI Semantic Search"}),(0,b.jsxs)("div",{className:"mt-3 flex gap-3",children:[(0,b.jsx)("input",{name:"semantic-query",id:"semantic-query",value:_,onChange:a=>aa(a.target.value),placeholder:"e.g. Luxury hybrid SUV under 150k",className:`flex-1 ${bb}`}),(0,b.jsx)("button",{className:"rounded-2xl bg-sky-600 px-4 py-2 text-sm font-semibold text-white",children:ad?"Searching...":"Search"})]}),ab.length>0&&(0,b.jsx)("div",{className:"mt-4 space-y-3",children:ab.map(a=>(0,b.jsxs)("div",{className:"flex items-center gap-3 rounded-2xl border border-slate-100 bg-slate-50 p-3 text-sm text-slate-600",children:[(0,b.jsx)("img",{src:bf(a),alt:a.model,className:"h-14 w-20 rounded-xl object-cover"}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("span",{className:"font-semibold text-slate-900",children:[a.make," ",a.model]}),(0,b.jsx)("button",{className:"text-xs text-sky-600",onClick:()=>a9(a.id),children:"Inspect"})]}),(0,b.jsx)("p",{children:bg(a.price,a.currency)})]})]},a.id))})]})]}),(0,b.jsx)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:0===bB.length?(0,b.jsx)("p",{className:"col-span-full text-center text-slate-500",children:"No listings match your filters yet."}):bB.map(a=>bE(a))}),bz.length>0&&(0,b.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-4 rounded-3xl border border-slate-100 bg-white px-4 py-3 text-sm text-slate-600 shadow-sm",children:[(0,b.jsxs)("p",{children:["Showing ",Math.min((aP-1)*9+1,bz.length),"-",Math.min(9*aP,bz.length)," of ",bz.length," listings"]}),bA>1&&(0,b.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,b.jsx)("button",{type:"button",onClick:()=>bD(aP-1),disabled:1===aP,className:"rounded-2xl border border-slate-200 px-3 py-1 font-semibold text-slate-700 disabled:cursor-not-allowed disabled:border-slate-100 disabled:text-slate-300",children:"Prev"}),bC[0]>1&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("button",{type:"button",onClick:()=>bD(1),className:"rounded-2xl border border-slate-200 px-3 py-1 font-semibold text-slate-700",children:"1"}),bC[0]>2&&(0,b.jsx)("span",{className:"text-slate-400",children:"â€¦"})]}),bC.map(a=>(0,b.jsx)("button",{type:"button",onClick:()=>bD(a),className:`rounded-2xl px-3 py-1 font-semibold ${aP===a?"bg-sky-600 text-white":"border border-slate-200 text-slate-700"}`,children:a},a)),bC[bC.length-1]<bA&&(0,b.jsxs)(b.Fragment,{children:[bC[bC.length-1]<bA-1&&(0,b.jsx)("span",{className:"text-slate-400",children:"â€¦"}),(0,b.jsx)("button",{type:"button",onClick:()=>bD(bA),className:"rounded-2xl border border-slate-200 px-3 py-1 font-semibold text-slate-700",children:bA})]}),(0,b.jsx)("button",{type:"button",onClick:()=>bD(aP+1),disabled:aP===bA,className:"rounded-2xl border border-slate-200 px-3 py-1 font-semibold text-slate-700 disabled:cursor-not-allowed disabled:border-slate-100 disabled:text-slate-300",children:"Next"})]})]})]});case"favorites":return(0,b.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[L.filter(a=>T.includes(a.id)).map(a=>bE(a)),0===T.length&&(0,b.jsx)("p",{className:"text-slate-500",children:"No favorites yet."})]});case"dealers":if(!bh())return null;return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-slate-900",children:aZ.dealersHeading}),(0,b.jsx)("p",{className:"text-sm text-slate-600",children:aZ.dealersSubheading})]}),R?(0,b.jsx)("p",{className:"text-slate-500",children:"Loading dealers..."}):P.length?(0,b.jsx)("div",{className:"grid gap-4 md:grid-cols-2 xl:grid-cols-3",children:P.map(a=>(0,b.jsxs)("div",{className:"flex flex-col rounded-3xl border border-slate-100 bg-white/90 p-4 shadow hover:shadow-lg",children:[(0,b.jsx)("div",{className:"h-40 overflow-hidden rounded-2xl bg-slate-100",children:(0,b.jsx)("img",{src:a.hero_image||"/placeholder-car.svg",alt:a.name,className:"h-full w-full object-cover"})}),(0,b.jsxs)("div",{className:"mt-4 flex items-start justify-between gap-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-slate-900",children:a.name}),(0,b.jsxs)("p",{className:"text-sm text-slate-500",children:[a.total_listings," ",aZ.dealerMetaListings]})]}),(0,b.jsxs)("div",{className:"text-right text-sm text-slate-500",children:[(0,b.jsx)("p",{children:aZ.dealerMetaAverage}),(0,b.jsx)("p",{className:"text-base font-semibold text-emerald-600",children:a.average_price?bg(a.average_price,"AED"):"â€”"})]})]}),a.top_makes?.length?(0,b.jsxs)("div",{className:"mt-3 text-xs text-slate-500",children:[(0,b.jsx)("p",{className:"font-semibold text-slate-700",children:aZ.dealerMetaTopMakes}),(0,b.jsx)("p",{children:a.top_makes.map(a=>a.make).slice(0,3).join(", ")})]}):null,(0,b.jsx)("button",{className:"mt-4 w-full rounded-xl bg-slate-900/90 py-2 text-sm font-semibold text-white",onClick:()=>ba(a.id),children:aZ.dealersVisit})]},a.id))}):(0,b.jsx)("p",{className:"text-slate-500",children:aZ.dealersEmpty})]});case"myListings":if(!bh())return null;return(0,b.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[V.map(a=>(0,b.jsxs)("div",{className:"rounded-3xl border border-slate-100 bg-white p-4 shadow-sm",children:[(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)("img",{src:bf(a),alt:a.model,className:"h-24 w-32 rounded-2xl object-cover"}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("h3",{className:"text-lg font-semibold text-slate-900",children:[a.make," ",a.model]}),(0,b.jsx)("p",{className:"text-sm text-slate-500",children:a.year}),(0,b.jsx)("p",{className:"text-xl font-bold text-emerald-600",children:bg(a.price,a.currency)}),a.odometerKm?(0,b.jsxs)("p",{className:"text-xs text-slate-500",children:[a.odometerKm.toLocaleString()," km"]}):null]})]}),(0,b.jsxs)("div",{className:"mt-4 flex gap-3",children:[(0,b.jsx)("button",{className:"flex-1 rounded-2xl bg-slate-900/5 py-2 text-sm font-semibold text-slate-900",onClick:()=>a9(a.id),children:"View"}),(0,b.jsx)("button",{className:"flex-1 rounded-2xl bg-rose-500 py-2 text-sm font-semibold text-white",onClick:()=>bv(a.id),children:"Delete"})]})]},a.id)),0===V.length&&(0,b.jsx)("p",{className:"text-slate-500",children:"No personal listings yet."})]});case"addListing":if(!bh())return null;return(0,b.jsxs)("div",{className:"grid gap-6 lg:grid-cols-[1.2fr,0.8fr]",children:[(0,b.jsxs)("form",{className:"space-y-4 rounded-3xl border border-slate-100 bg-white p-6 shadow-sm",onSubmit:bu,children:[(0,b.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,b.jsxs)("select",{name:"listing-make",id:"listing-make",value:ap.make,onChange:a=>{var b;return b=a.target.value,void aq(a=>({...a,make:b,model:"",engine:""}))},className:bb,required:!0,children:[(0,b.jsx)("option",{value:"",children:aZ.makeSelectLabel}),a2.map(a=>(0,b.jsx)("option",{value:a,children:a},a))]}),(0,b.jsxs)("select",{name:"listing-model",id:"listing-model",value:ap.model,onChange:a=>{var b;return b=a.target.value,void aq(a=>({...a,model:b,engine:""}))},className:bb,required:!0,disabled:!ap.make,children:[(0,b.jsx)("option",{value:"",children:aZ.modelSelectLabel}),a3.map(a=>(0,b.jsx)("option",{value:a,children:a},a))]}),(0,b.jsx)("input",{name:"listing-year",id:"listing-year",value:ap.year,onChange:a=>bn("year",a.target.value),placeholder:"Year",className:bb,required:!0}),(0,b.jsx)("input",{name:"listing-price",id:"listing-price",value:ap.price,onChange:a=>bn("price",a.target.value),placeholder:"Price",className:bb,required:!0}),(0,b.jsx)("select",{name:"listing-currency",id:"listing-currency",value:ap.currency,onChange:a=>bn("currency",a.target.value),className:bb,children:p.map(a=>(0,b.jsx)("option",{value:a,children:a},a))}),(0,b.jsx)("input",{name:"listing-bodystyle",id:"listing-bodystyle",value:ap.bodyStyle,onChange:a=>bn("bodyStyle",a.target.value),placeholder:"Body style",className:bb}),(0,b.jsx)("input",{name:"listing-horsepower",id:"listing-horsepower",value:ap.horsepower,onChange:a=>bn("horsepower",a.target.value),placeholder:"Horsepower",className:bb}),a4.length>0?(0,b.jsxs)("select",{name:"listing-engine",id:"listing-engine",value:ap.engine,onChange:a=>bn("engine",a.target.value),className:bb,disabled:!ap.model,children:[(0,b.jsx)("option",{value:"",children:aZ.engineSelectLabel}),a4.map(a=>(0,b.jsx)("option",{value:a,children:a},a))]}):(0,b.jsx)("input",{name:"listing-engine",id:"listing-engine",value:ap.engine,onChange:a=>bn("engine",a.target.value),placeholder:aZ.engineSelectLabel,className:bb}),(0,b.jsx)("input",{name:"listing-fueleconomy",id:"listing-fueleconomy",value:ap.fuelEconomy,onChange:a=>bn("fuelEconomy",a.target.value),placeholder:"Fuel economy",className:bb}),(0,b.jsx)("input",{name:"listing-odometer",id:"listing-odometer",value:ap.odometer,onChange:a=>bn("odometer",a.target.value),placeholder:aZ.odometerLabel,className:bb,type:"number",min:"0"}),(0,b.jsx)("input",{name:"listing-image",id:"listing-image",value:ap.image,onChange:a=>bn("image",a.target.value),placeholder:"Image URL",className:bb})]}),(0,b.jsx)("textarea",{name:"listing-description",id:"listing-description",value:ap.description,onChange:a=>bn("description",a.target.value),placeholder:"Description",className:`h-32 w-full ${bb}`}),(0,b.jsxs)("div",{className:"flex flex-wrap gap-3",children:[(0,b.jsx)("button",{type:"button",className:"rounded-2xl bg-sky-600 px-4 py-2 text-sm font-semibold text-white",onClick:bt,children:aZ.priceAssistLabel}),(0,b.jsxs)("label",{className:"cursor-pointer rounded-2xl border border-dashed border-slate-300 px-4 py-2 text-sm font-semibold text-slate-900",children:[aZ.uploadPhotoLabel,(0,b.jsx)("input",{type:"file",accept:"image/*",className:"hidden",onChange:a=>{let b=a.target.files?.[0];b&&bq(b)}})]}),(0,b.jsxs)("label",{className:"cursor-pointer rounded-2xl border border-dashed border-slate-300 px-4 py-2 text-sm font-semibold text-slate-900",children:[aZ.visionHelperLabel,(0,b.jsx)("input",{type:"file",accept:"image/*",className:"hidden",onChange:a=>{let b=a.target.files?.[0];b&&bo(b)}})]})]}),(0,b.jsxs)("div",{className:"space-y-3 rounded-2xl border border-slate-200 bg-slate-50 p-4",children:[(0,b.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-semibold text-slate-900",children:aZ.galleryLabel}),(0,b.jsx)("p",{className:"text-xs text-slate-500",children:aZ.galleryHint})]}),(0,b.jsxs)("label",{className:"cursor-pointer rounded-2xl border border-dashed border-slate-300 px-3 py-2 text-xs font-semibold text-slate-900",children:[aZ.galleryUploadLabel,(0,b.jsx)("input",{type:"file",accept:"image/*",name:"gallery-url",id:"gallery-url",multiple:!0,className:"hidden",onChange:a=>br(a.target.files)})]})]}),(0,b.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,b.jsx)("input",{value:aR,onChange:a=>aS(a.target.value),placeholder:"Paste image URL",className:`flex-1 ${bb}`}),(0,b.jsx)("button",{type:"button",className:"rounded-2xl bg-slate-900/10 px-4 py-2 text-sm font-semibold text-slate-900",onClick:bs,children:aZ.galleryAddButton})]}),(0,b.jsxs)("div",{className:"grid gap-3 sm:grid-cols-3",children:[0===ap.galleryImages.length&&(0,b.jsx)("p",{className:"text-sm text-slate-500 sm:col-span-3",children:aZ.galleryEmpty}),ap.galleryImages.map((a,c)=>(0,b.jsxs)("div",{className:"relative overflow-hidden rounded-2xl border border-slate-200 bg-white",children:['name="video-url" id="video-url"',(0,b.jsx)("img",{src:a,alt:`Gallery ${c+1}`,className:"h-32 w-full object-cover"}),(0,b.jsx)("button",{type:"button",className:"absolute right-2 top-2 rounded-full bg-white/90 px-2 py-1 text-xs font-semibold text-rose-500",onClick:()=>{aq(a=>{let b=a.galleryImages[c],d=a.galleryImages.filter((a,b)=>b!==c),e=a.image;return e===b&&(e=d[0]||""),{...a,galleryImages:d,image:e}})},children:aZ.galleryRemove})]},`${a}-${c}`))]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-xs uppercase tracking-wide text-slate-500",children:aZ.videoLabel}),(0,b.jsx)("input",{value:ap.videoUrl,onChange:a=>bn("videoUrl",a.target.value),placeholder:"https://www.youtube.com/watch?v=...",className:`mt-1 w-full ${bb}`})]})]}),ax&&(0,b.jsxs)("div",{className:"rounded-2xl bg-emerald-50 p-4 text-sm text-emerald-900",children:["Suggested price ",bg(ax.value,ax.currency),ax.range&&(0,b.jsxs)("p",{className:"text-emerald-700",children:["Range ",bg(ax.range.low,ax.currency)," â†’ ",bg(ax.range.high,ax.currency)]})]}),az&&(0,b.jsxs)("div",{className:"rounded-2xl border border-slate-100 bg-slate-50 p-4 text-sm text-slate-600",children:[(0,b.jsx)("p",{className:"font-semibold text-slate-900",children:"Vision insights"}),az.highlights?.map((a,c)=>(0,b.jsxs)("p",{children:["â€¢ ",a]},c))]}),(0,b.jsx)("button",{className:"w-full rounded-2xl bg-emerald-600 py-3 text-lg font-semibold text-white",disabled:an,children:an?"Publishing...":"Publish Listing"})]}),(0,b.jsxs)("div",{className:"space-y-4 rounded-3xl border border-slate-100 bg-white p-6 shadow-sm",children:[(0,b.jsx)("h3",{className:"text-xl font-semibold text-slate-900",children:"Vision Helper Tips"}),(0,b.jsx)("p",{className:"text-sm text-slate-600",children:"Upload clear daylight shots. The AI will detect make, model, color, and condition to pre-fill your listing."}),aB&&(0,b.jsx)("p",{className:"text-slate-500",children:"Analyzing image..."})]})]});case"profile":return a?(0,b.jsxs)("div",{className:"grid gap-6 md:grid-cols-2",children:[(0,b.jsxs)("div",{className:"rounded-3xl border border-slate-100 bg-white p-6 shadow-sm",children:[(0,b.jsx)("h3",{className:"text-xl font-semibold text-slate-900",children:"Profile"}),(0,b.jsxs)("p",{className:"text-slate-600",children:["Username: ",a.username]}),(0,b.jsxs)("p",{className:"text-slate-600",children:["Email: ",a.email]}),(0,b.jsx)("button",{className:"mt-4 rounded-2xl border border-slate-200 px-4 py-2 text-sm font-semibold text-slate-900",onClick:()=>A(),children:"Refresh Profile"})]}),(0,b.jsxs)("div",{className:"rounded-3xl border border-slate-100 bg-white p-6 shadow-sm",children:[(0,b.jsx)("h3",{className:"text-xl font-semibold text-slate-900",children:"Update Profile"}),(0,b.jsxs)("form",{className:"mt-4 space-y-3",onSubmit:async a=>{a.preventDefault();let b=a.currentTarget,c=new FormData(b),d=c.get("profile-username")?.toString(),e=c.get("profile-email")?.toString(),f=c.get("profile-current-password")?.toString(),g=c.get("profile-password")?.toString();await z({username:d,email:e,current_password:f,password:g})&&(bi("Profile updated"),b.reset())},children:[(0,b.jsx)("input",{name:"profile-username",placeholder:"Username",defaultValue:a.username,className:`w-full ${bb}`}),(0,b.jsx)("input",{name:"profile-email",type:"email",placeholder:"Email",defaultValue:a.email,className:`w-full ${bb}`}),(0,b.jsx)("input",{name:"profile-current-password",type:"password",placeholder:"Current password",className:`w-full ${bb}`}),(0,b.jsx)("input",{name:"profile-password",type:"password",placeholder:"New password",className:`w-full ${bb}`}),(0,b.jsx)("button",{className:"w-full rounded-2xl bg-emerald-500 py-3 font-semibold text-white",children:"Save Changes"})]}),(0,b.jsx)("button",{className:"mt-4 w-full rounded-2xl border border-slate-200 py-2 font-semibold text-slate-900",onClick:()=>y(),children:"Sign Out"})]})]}):(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsx)("p",{className:"text-slate-600",children:"Sign in to manage your account and unlock favorites, listings, and analytics."}),(0,b.jsxs)("div",{className:"grid gap-6 md:grid-cols-2",children:[(0,b.jsxs)("div",{className:"rounded-3xl border border-slate-100 bg-white p-6 shadow-sm",children:[(0,b.jsx)("h3",{className:"text-xl font-semibold text-slate-900",children:"Sign In"}),B&&(0,b.jsx)("p",{className:"mt-3 rounded-2xl bg-rose-50 px-4 py-2 text-sm font-semibold text-rose-600",children:B}),(0,b.jsxs)("form",{className:"mt-4 space-y-4",onSubmit:async a=>{a.preventDefault();let b=new FormData(a.currentTarget),c=String(b.get("login-username")),d=String(b.get("login-password"));C(),await w(c,d)?bi(`Welcome back, ${c}!`):bi("Unable to sign in. Please check your details.","error")},children:[(0,b.jsx)("input",{name:"login-username",placeholder:"Username",className:`w-full ${bb}`,required:!0}),(0,b.jsx)("input",{name:"login-password",type:"password",placeholder:"Password",className:`w-full ${bb}`,required:!0}),(0,b.jsx)("button",{className:"w-full rounded-2xl bg-sky-600 py-3 font-semibold text-white",children:"Sign In"})]})]}),(0,b.jsxs)("div",{className:"rounded-3xl border border-slate-100 bg-white p-6 shadow-sm",children:[(0,b.jsx)("h3",{className:"text-xl font-semibold text-slate-900",children:"Create Account"}),(0,b.jsxs)("form",{className:"mt-4 space-y-4",onSubmit:async a=>{a.preventDefault();let b=a.currentTarget,c=new FormData(b),d=String(c.get("signup-username")),e=String(c.get("signup-email")),f=String(c.get("signup-password"));C(),await x(d,e,f)?(bi("Account created! You are now signed in."),b.reset()):bi("Unable to sign up. Please try again.","error")},children:[(0,b.jsx)("input",{name:"signup-username",placeholder:"Username",className:`w-full ${bb}`,required:!0}),(0,b.jsx)("input",{name:"signup-email",type:"email",placeholder:"Email",className:`w-full ${bb}`,required:!0}),(0,b.jsx)("input",{name:"signup-password",type:"password",placeholder:"Password",className:`w-full ${bb}`,required:!0}),(0,b.jsx)("button",{className:"w-full rounded-2xl bg-emerald-500 py-3 font-semibold text-white",children:"Sign Up"})]})]})]})]});case"chatbot":return(0,b.jsxs)("div",{className:"grid gap-6 lg:grid-cols-[280px,1fr]",children:[(0,b.jsxs)("div",{className:"rounded-3xl border border-slate-100 bg-white p-4 shadow-sm",children:[(0,b.jsx)("button",{className:"w-full rounded-2xl bg-slate-900/5 px-3 py-2 text-sm font-semibold text-slate-900",onClick:()=>bk(),children:"+ New Chat"}),(0,b.jsx)("div",{className:"mt-4 space-y-2",children:aF.map(a=>(0,b.jsxs)("button",{onClick:()=>aI(a.id),className:`w-full rounded-2xl px-3 py-2 text-left text-sm ${a.id===aH?"bg-sky-50 text-slate-900":"bg-slate-50 text-slate-500"}`,children:[(0,b.jsx)("span",{className:"block font-semibold",children:a.title}),(0,b.jsx)("span",{className:"text-xs",children:new Date(a.updatedAt).toLocaleString()})]},a.id))}),(0,b.jsxs)("div",{className:"mt-6 space-y-3",children:[(0,b.jsx)("label",{className:"text-xs uppercase text-slate-500",children:"Assistant Mode"}),(0,b.jsxs)("select",{name:"assistant-mode",id:"assistant-mode",value:aD,onChange:a=>aE(a.target.value),className:`w-full ${bb}`,children:[(0,b.jsx)("option",{value:"general",children:"General Q&A"}),(0,b.jsx)("option",{value:"listing",children:"Listing Assistant"})]})]})]}),(0,b.jsxs)("div",{className:"flex flex-col rounded-3xl border border-slate-100 bg-white p-6 shadow-sm",children:[(0,b.jsxs)("div",{className:"flex-1 space-y-4 overflow-y-auto pr-2",children:[0===bd.length&&(0,b.jsx)("p",{className:"text-center text-slate-500",children:"Start the conversation with IntelliWheels AI Assistant."}),bd.map(a=>(0,b.jsxs)("div",{className:`max-w-3xl rounded-2xl p-4 ${"user"===a.role?"ml-auto bg-sky-100 text-slate-900":"bg-slate-50 text-slate-600"}`,children:[(0,b.jsx)("p",{className:"text-xs uppercase text-slate-400",children:"user"===a.role?"You":"Assistant"}),(0,b.jsx)("p",{className:"mt-1 whitespace-pre-line text-sm",children:a.text}),a.listingData&&(0,b.jsxs)("div",{className:"mt-3 rounded-xl bg-white p-3 text-xs text-slate-500",children:[(0,b.jsx)("p",{className:"font-semibold text-slate-900",children:"Proposed Listing"}),Object.entries(a.listingData).map(([a,c])=>c?(0,b.jsxs)("p",{children:[u(a),": ",String(c)]},a):null)]})]},a.id))]}),(0,b.jsxs)("div",{className:"mt-4 space-y-3",children:[aN&&(0,b.jsxs)("div",{className:"flex items-center justify-between rounded-2xl bg-slate-50 p-3 text-sm text-slate-600",children:[(0,b.jsx)("span",{children:"Attached image"}),(0,b.jsx)("button",{onClick:()=>aO(null),className:"text-xs text-rose-500",children:"Remove"})]}),(0,b.jsx)("textarea",{name:"chat-input",id:"chat-input",value:aJ,onChange:a=>aK(a.target.value),placeholder:"Ask about pricing, specs, or request a listing draft...",className:"min-h-[120px] w-full rounded-3xl border border-slate-200 bg-slate-50 p-4 text-slate-900 placeholder-slate-500"}),(0,b.jsxs)("div",{className:"flex flex-wrap items-center gap-3",children:[(0,b.jsxs)("label",{className:"cursor-pointer rounded-2xl border border-slate-200 px-4 py-2 text-sm font-semibold text-slate-900",children:["Attach Image",(0,b.jsx)("input",{name:"chat-attachment",id:"chat-attachment",type:"file",accept:"image/*",className:"hidden",onChange:async a=>{let b=a.target.files?.[0];if(!b)return;let c=await v(b);aO({preview:URL.createObjectURL(b),base64:c,mime:b.type})}})]}),(0,b.jsx)("button",{className:"flex-1 rounded-2xl bg-sky-600 py-3 text-center font-semibold text-white disabled:bg-sky-300",onClick:bx,disabled:aL,children:aL?"Thinking...":"Send"})]})]})]})]});case"analytics":return bh()?X?(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsx)("div",{className:"flex flex-wrap items-center gap-3",children:["all","my","favorites"].map(a=>(0,b.jsx)("button",{onClick:()=>$(a),className:`rounded-2xl px-4 py-2 text-sm font-semibold ${Z===a?"bg-sky-600 text-white":"border border-slate-200 bg-white text-slate-600"}`,children:u(a)},a))}),X.summary&&(0,b.jsxs)("div",{className:"grid gap-4 md:grid-cols-3",children:[(0,b.jsx)(t,{label:"Average Price",value:bg(X.summary.average_price,X.summary.currency)}),(0,b.jsx)(t,{label:"Cheapest",value:bg(X.summary.min_price,X.summary.currency)}),(0,b.jsx)(t,{label:"Most Expensive",value:bg(X.summary.max_price,X.summary.currency)})]}),X.market_top_makes&&(0,b.jsxs)("div",{className:"rounded-3xl border border-slate-100 bg-white p-5 shadow-sm",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-slate-900",children:"Top Makes"}),(0,b.jsx)("div",{className:"mt-4 space-y-3",children:X.market_top_makes.map(a=>(0,b.jsxs)("div",{className:"flex items-center justify-between rounded-2xl bg-slate-50 px-4 py-3 text-sm text-slate-600",children:[(0,b.jsx)("span",{className:"font-semibold text-slate-900",children:a.make}),(0,b.jsx)("span",{children:bg(a.avg_price,X.summary?.currency)}),(0,b.jsxs)("span",{children:[a.listings," listings"]})]},a.make))})]})]}):(0,b.jsx)("p",{className:"text-slate-500",children:"No analytics available yet. Create listings or favorites to unlock insights."}):null;default:return null}})()})}),(0,b.jsx)("footer",{className:`${a5} border-t ${a8}`,children:(0,b.jsxs)("div",{className:"mx-auto max-w-7xl px-4 py-8",children:[(0,b.jsxs)("div",{className:"flex flex-wrap items-start justify-between gap-6 text-sm",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-lg font-semibold",children:"IntelliWheels"}),(0,b.jsx)("p",{className:`text-sm ${a6}`,children:aZ.tagline})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-semibold",children:aZ.footerSupport}),(0,b.jsxs)("p",{className:`text-sm ${a6}`,children:[aZ.footerEmail,": support@intelliwheels.ai"]}),(0,b.jsxs)("p",{className:`text-sm ${a6}`,children:[aZ.footerPhone,": +971 55 501 0101"]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-semibold",children:aZ.footerContact}),(0,b.jsx)("p",{className:`text-sm ${a6}`,children:"Suite 14, Dubai Design District"}),(0,b.jsx)("p",{className:`text-sm ${a6}`,children:"hello@intelliwheels.ai"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-semibold",children:aZ.footerSocial}),(0,b.jsxs)("div",{className:"flex flex-col gap-1 text-sky-600",children:[(0,b.jsx)("a",{href:"https://www.instagram.com/intelliwheels",target:"_blank",rel:"noreferrer",children:aZ.footerInstagram}),(0,b.jsx)("a",{href:"https://x.com/IntelliWheels",target:"_blank",rel:"noreferrer",children:"X / Twitter"})]})]})]}),(0,b.jsxs)("p",{className:`mt-6 text-xs ${"dark"===aW?"text-slate-300/80":"text-slate-200/80"}`,children:["Â© ",bF," IntelliWheels. ",aZ.footerRights]})]})})]})}function t({label:a,value:c}){return(0,b.jsxs)("div",{className:"rounded-3xl border border-slate-100 bg-gradient-to-br from-white to-slate-50 p-5 text-slate-900 shadow-sm",children:[(0,b.jsx)("p",{className:"text-xs uppercase text-slate-400",children:a}),(0,b.jsx)("p",{className:"mt-2 text-2xl font-semibold",children:c})]})}function u(a){return a.replace(/([A-Z])/g," $1").replace(/_/g," ").replace(/^./,a=>a.toUpperCase())}function v(a){return new Promise((b,c)=>{let d=new FileReader;d.onload=()=>b(String(d.result)),d.onerror=c,d.readAsDataURL(a)})}function w(){return(0,b.jsx)(f.AuthProvider,{children:(0,b.jsx)(s,{})})}a.s(["default",()=>w],40777)}];

//# sourceMappingURL=src_app_page_tsx_a7111f3e._.js.map