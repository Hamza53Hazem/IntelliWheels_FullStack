module.exports=[72131,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].React},9270,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.AppRouterContext},36313,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.HooksClientContext},18341,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.ServerInsertedHtml},18622,(a,b,c)=>{b.exports=a.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},42602,(a,b,c)=>{"use strict";b.exports=a.r(18622)},87924,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactJsxRuntime},17155,a=>{"use strict";var b=a.i(87924),c=a.i(56025),d=a.i(19032),e=a.i(50944),f=a.i(72131);function g({dealerId:a}){let g=Number(a),{token:i}=(0,c.useAuth)(),j=(0,e.useRouter)(),[k,l]=(0,f.useState)(null),[m,n]=(0,f.useState)(!0),[o,p]=(0,f.useState)(null);(0,f.useEffect)(()=>{if(!Number.isFinite(g)){p("Invalid dealer identifier"),n(!1);return}let a=!1;return async function(){try{n(!0);let b=await (0,d.fetchDealerById)(g,i||null);a||(b.success?(l(b.dealer),p(null)):p("Dealer not found"))}catch(b){a||p(b instanceof Error?b.message:"Unable to load dealer")}finally{a||n(!1)}}(),()=>{a=!0}},[g,i]);let q=(0,f.useMemo)(()=>k?.hero_image||"/placeholder-car.svg",[k]);return m?(0,b.jsx)("div",{className:"flex min-h-screen items-center justify-center bg-slate-50 text-slate-500",children:"Loading dealer profile..."}):o||!k?(0,b.jsx)("div",{className:"flex min-h-screen items-center justify-center bg-slate-50 px-4",children:(0,b.jsxs)("div",{className:"max-w-md rounded-3xl border border-slate-200 bg-white p-6 text-center shadow",children:[(0,b.jsx)("p",{className:"text-lg font-semibold text-slate-900",children:o||"Dealer unavailable"}),(0,b.jsx)("button",{type:"button",className:"mt-6 w-full rounded-2xl bg-slate-900 px-4 py-2 text-sm font-semibold text-white",onClick:()=>j.back(),children:"Go back"})]})}):(0,b.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-sky-50",children:(0,b.jsxs)("div",{className:"mx-auto max-w-6xl px-4 py-8 space-y-6",children:[(0,b.jsx)("button",{type:"button",className:"rounded-full border border-slate-200 bg-white px-4 py-2 text-sm font-semibold text-slate-700 shadow-sm",onClick:()=>j.back(),children:"â† Back"}),(0,b.jsxs)("div",{className:"overflow-hidden rounded-3xl border border-slate-100 bg-white shadow",children:[(0,b.jsx)("div",{className:"h-72 w-full bg-slate-100",children:(0,b.jsx)("img",{src:q,alt:k.name,className:"h-full w-full object-cover"})}),(0,b.jsxs)("div",{className:"grid gap-6 p-6 lg:grid-cols-[1.5fr,1fr]",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-slate-900",children:k.name}),(0,b.jsxs)("p",{className:"text-sm text-slate-500",children:["Member since ",k.member_since?new Date(k.member_since).toLocaleDateString():"recently"]}),(0,b.jsxs)("div",{className:"mt-4 flex flex-wrap gap-4 text-sm text-slate-600",children:[(0,b.jsxs)("span",{children:[k.total_listings," listings"]}),k.average_price?(0,b.jsxs)("span",{children:["Avg price ",h(k.average_price)]}):null,k.top_makes?.length?(0,b.jsxs)("span",{children:["Top makes: ",k.top_makes.slice(0,3).map(a=>a.make).join(", ")]}):null]})]}),(0,b.jsxs)("div",{className:"rounded-2xl border border-slate-100 bg-slate-50 p-5 text-sm text-slate-600",children:[(0,b.jsx)("p",{className:"font-semibold text-slate-900",children:"Contact dealer"}),(0,b.jsx)("p",{className:"mt-2",children:k.email||"Contact details coming soon."}),k.email?(0,b.jsx)("a",{href:`mailto:${k.email}`,className:"mt-4 inline-flex w-full justify-center rounded-2xl bg-slate-900 px-4 py-2 text-sm font-semibold text-white",children:"Email dealer"}):null]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-2xl font-semibold text-slate-900",children:"Inventory"}),0===k.cars.length?(0,b.jsx)("p",{className:"mt-2 text-slate-500",children:"No active cars yet."}):(0,b.jsx)("div",{className:"mt-4 grid gap-4 md:grid-cols-2",children:k.cars.map(a=>(0,b.jsxs)("div",{className:"rounded-3xl border border-slate-100 bg-white p-4 shadow",children:[(0,b.jsxs)("div",{className:"flex gap-4",children:[(0,b.jsx)("img",{src:a.image||"/placeholder-car.svg",alt:`${a.make} ${a.model}`,className:"h-24 w-32 rounded-2xl object-cover"}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("h3",{className:"text-lg font-semibold text-slate-900",children:[a.make," ",a.model]}),(0,b.jsx)("p",{className:"text-sm text-slate-500",children:a.year||"Year TBD"}),(0,b.jsx)("p",{className:"font-semibold text-emerald-600",children:h(a.price,a.currency)}),a.odometerKm?(0,b.jsxs)("p",{className:"text-xs text-slate-500",children:[a.odometerKm.toLocaleString()," km"]}):null]})]}),(0,b.jsx)("div",{className:"mt-4 flex gap-3",children:(0,b.jsx)("button",{type:"button",className:"flex-1 rounded-2xl bg-slate-900/10 py-2 text-sm font-semibold text-slate-900",onClick:()=>j.push(`/cars/${a.id}`),children:"View car"})})]},a.id))})]})]})})}function h(a,b="AED"){if(!a)return"TBD";try{return new Intl.NumberFormat("en-US",{style:"currency",currency:b,maximumFractionDigits:0}).format(a)}catch(c){return`${a.toLocaleString()} ${b}`}}a.s(["DealerDetailView",()=>g])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__03f2f3fe._.js.map