{"version":3,"sources":["../../../../node_modules/next/src/server/route-modules/app-page/vendored/ssr/react.ts","../../../../node_modules/next/src/server/route-modules/app-page/vendored/contexts/app-router-context.ts","../../../../node_modules/next/src/server/route-modules/app-page/vendored/contexts/hooks-client-context.ts","../../../../node_modules/next/src/server/route-modules/app-page/vendored/contexts/server-inserted-html.ts","../../../../node_modules/next/src/server/route-modules/app-page/module.compiled.js","../../../../node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-runtime.ts","../../../../src/components/DealerDetailView.tsx"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.React\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].AppRouterContext\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].HooksClientContext\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].ServerInsertedHtml\n","if (process.env.NEXT_RUNTIME === 'edge') {\n  module.exports = require('next/dist/server/route-modules/app-page/module.js')\n} else {\n  if (process.env.__NEXT_EXPERIMENTAL_REACT) {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.prod.js')\n      }\n    }\n  } else {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.prod.js')\n      }\n    }\n  }\n}\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactJsxRuntime\n","'use client';\r\n\r\nimport { useAuth } from '@/context/AuthContext';\r\nimport { fetchDealerById } from '@/lib/api';\r\nimport { DealerDetail } from '@/lib/types';\r\nimport { useRouter } from 'next/navigation';\r\nimport { useEffect, useMemo, useState } from 'react';\r\n\r\ninterface DealerDetailViewProps {\r\n  dealerId: string;\r\n}\r\n\r\nexport function DealerDetailView({ dealerId }: DealerDetailViewProps) {\r\n  const numericId = Number(dealerId);\r\n  const { token } = useAuth();\r\n  const router = useRouter();\r\n  const [dealer, setDealer] = useState<DealerDetail | null>(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  useEffect(() => {\r\n    if (!Number.isFinite(numericId)) {\r\n      setError('Invalid dealer identifier');\r\n      setLoading(false);\r\n      return;\r\n    }\r\n    let cancelled = false;\r\n    async function loadDealer() {\r\n      try {\r\n        setLoading(true);\r\n        const response = await fetchDealerById(numericId, token || null);\r\n        if (!cancelled) {\r\n          if (response.success) {\r\n            setDealer(response.dealer);\r\n            setError(null);\r\n          } else {\r\n            setError('Dealer not found');\r\n          }\r\n        }\r\n      } catch (err) {\r\n        if (!cancelled) {\r\n          setError(err instanceof Error ? err.message : 'Unable to load dealer');\r\n        }\r\n      } finally {\r\n        if (!cancelled) {\r\n          setLoading(false);\r\n        }\r\n      }\r\n    }\r\n    loadDealer();\r\n    return () => {\r\n      cancelled = true;\r\n    };\r\n  }, [numericId, token]);\r\n\r\n  const heroImage = useMemo(() => dealer?.hero_image || '/placeholder-car.svg', [dealer]);\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex min-h-screen items-center justify-center bg-slate-50 text-slate-500\">\r\n        Loading dealer profile...\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error || !dealer) {\r\n    return (\r\n      <div className=\"flex min-h-screen items-center justify-center bg-slate-50 px-4\">\r\n        <div className=\"max-w-md rounded-3xl border border-slate-200 bg-white p-6 text-center shadow\">\r\n          <p className=\"text-lg font-semibold text-slate-900\">{error || 'Dealer unavailable'}</p>\r\n          <button\r\n            type=\"button\"\r\n            className=\"mt-6 w-full rounded-2xl bg-slate-900 px-4 py-2 text-sm font-semibold text-white\"\r\n            onClick={() => router.back()}\r\n          >\r\n            Go back\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gradient-to-br from-slate-50 via-white to-sky-50\">\r\n      <div className=\"mx-auto max-w-6xl px-4 py-8 space-y-6\">\r\n        <button\r\n          type=\"button\"\r\n          className=\"rounded-full border border-slate-200 bg-white px-4 py-2 text-sm font-semibold text-slate-700 shadow-sm\"\r\n          onClick={() => router.back()}\r\n        >\r\n          ‚Üê Back\r\n        </button>\r\n        <div className=\"overflow-hidden rounded-3xl border border-slate-100 bg-white shadow\">\r\n          <div className=\"h-72 w-full bg-slate-100\">\r\n            <img src={heroImage} alt={dealer.name} className=\"h-full w-full object-cover\" />\r\n          </div>\r\n          <div className=\"grid gap-6 p-6 lg:grid-cols-[1.5fr,1fr]\">\r\n            <div>\r\n              <h1 className=\"text-3xl font-bold text-slate-900\">{dealer.name}</h1>\r\n              <p className=\"text-sm text-slate-500\">Member since {dealer.member_since ? new Date(dealer.member_since).toLocaleDateString() : 'recently'}</p>\r\n              <div className=\"mt-4 flex flex-wrap gap-4 text-sm text-slate-600\">\r\n                <span>{dealer.total_listings} listings</span>\r\n                {dealer.average_price ? <span>Avg price {formatCurrency(dealer.average_price)}</span> : null}\r\n                {dealer.top_makes?.length ? <span>Top makes: {dealer.top_makes.slice(0, 3).map((entry) => entry.make).join(', ')}</span> : null}\r\n              </div>\r\n            </div>\r\n            <div className=\"rounded-2xl border border-slate-100 bg-slate-50 p-5 text-sm text-slate-600\">\r\n              <p className=\"font-semibold text-slate-900\">Contact dealer</p>\r\n              <p className=\"mt-2\">{dealer.email || 'Contact details coming soon.'}</p>\r\n              {dealer.email ? (\r\n                <a\r\n                  href={`mailto:${dealer.email}`}\r\n                  className=\"mt-4 inline-flex w-full justify-center rounded-2xl bg-slate-900 px-4 py-2 text-sm font-semibold text-white\"\r\n                >\r\n                  Email dealer\r\n                </a>\r\n              ) : null}\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div>\r\n          <h2 className=\"text-2xl font-semibold text-slate-900\">Inventory</h2>\r\n          {dealer.cars.length === 0 ? (\r\n            <p className=\"mt-2 text-slate-500\">No active cars yet.</p>\r\n          ) : (\r\n            <div className=\"mt-4 grid gap-4 md:grid-cols-2\">\r\n              {dealer.cars.map((car) => (\r\n                <div key={car.id} className=\"rounded-3xl border border-slate-100 bg-white p-4 shadow\">\r\n                  <div className=\"flex gap-4\">\r\n                    <img src={car.image || '/placeholder-car.svg'} alt={`${car.make} ${car.model}`} className=\"h-24 w-32 rounded-2xl object-cover\" />\r\n                    <div className=\"flex-1\">\r\n                      <h3 className=\"text-lg font-semibold text-slate-900\">{car.make} {car.model}</h3>\r\n                      <p className=\"text-sm text-slate-500\">{car.year || 'Year TBD'}</p>\r\n                      <p className=\"font-semibold text-emerald-600\">{formatCurrency(car.price, car.currency)}</p>\r\n                      {car.odometerKm ? <p className=\"text-xs text-slate-500\">{car.odometerKm.toLocaleString()} km</p> : null}\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"mt-4 flex gap-3\">\r\n                    <button\r\n                      type=\"button\"\r\n                      className=\"flex-1 rounded-2xl bg-slate-900/10 py-2 text-sm font-semibold text-slate-900\"\r\n                      onClick={() => router.push(`/cars/${car.id}`)}\r\n                    >\r\n                      View car\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction formatCurrency(value?: number | null, currency = 'AED') {\r\n  if (!value) return 'TBD';\r\n  try {\r\n    return new Intl.NumberFormat('en-US', {\r\n      style: 'currency',\r\n      currency,\r\n      maximumFractionDigits: 0,\r\n    }).format(value);\r\n  } catch (err) {\r\n    return `${value.toLocaleString()} ${currency}`;\r\n  }\r\n}\r\n"],"names":["module","exports","require","vendored","React","AppRouterContext","HooksClientContext","ServerInsertedHtml","process","env","NEXT_RUNTIME","__NEXT_EXPERIMENTAL_REACT","NODE_ENV","TURBOPACK","ReactJsxRuntime"],"mappings":"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","ignoreList":[0,1,2,3,4,5]}